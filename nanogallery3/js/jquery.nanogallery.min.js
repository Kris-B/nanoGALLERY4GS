/*
 nanoGALLERY v4.4.2
 Plugin for jQuery by Christophe Brisbois
 Demo: http://nanogallery.brisbois.fr
 Sources: https://github.com/Kris-B/nanoGALLERY

 External components:
  - jQuery (http://www.jquery.com)
  - jQuery Color plugin - is embedded
  - Transit (http://ricostacruz.com/jquery.transit) - optional
  - imagesloaded (https://github.com/desandro/imagesloaded) - optional
  - fancybox (http://fancyapps.com) - optional
  - http://closure-compiler.appspot.com/home - used to minimize the code
*/
(function(q){jQuery.fn.nanoGallery=function(ia){var V=q.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",maxItemsPerLine:0,paginationMaxItemsPerPage:0,paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,viewerScrollBarHidden:!0,
imageTransition:"default",viewerToolbar:{position:"bottom",style:"innerImage"},thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",fnThumbnailInit:null,fnThumbnailHoverInit:null,
fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,touchAnimation:!0,useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3E3,photoSorting:"",albumSorting:"",lazyBuild:"none",lazyBuildTreshold:150,flickrSkipOriginal:!0,i18n:{breadcrumbHome:"List of Albums",breadcrumbHome_FR:"Liste des Albums",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",
paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"| ",thumbnailLabelItemsCountPart2:" photos",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",
infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},ia);return this.each(function(){(new nanoGALLERY).Initiate(this,V)})}})(jQuery);
function nanoGALLERY(){function q(){for(var d=Math.max(window.screen.width,window.screen.height),b=0,b=0;b<a.length;b++)switch(a[b].name){case "imageScale150":case "imageScale150Outside":W=Math.max(W,1.5);break;case "scale120":W=Math.max(W,1.2)}b="auto"==c.thumbnailHeight?c.thumbnailWidth*W:"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?c.thumbnailHeight*W:Math.max(c.thumbnailWidth,c.thumbnailHeight)*W;switch(c.kind){case "":p(G.breadcrumbHome,"","","","","album","","0","-1");0<c.itemsBaseURL.length&&
(c.itemsBaseURL+="/");void 0!==c.items&&null!==c.items?(Na(),ja(!1)||u(0,!1)):(d=jQuery(sa).children("a"),0<d.length?(Oa(d),ja(!1)||u(0,!1)):S("error: no image to process."));break;case "getsimple":return;case "flickr":c.flickrSkipOriginal||(C.photoAvailableSizes.push(1E4),C.photoAvailableSizesStr.push("o"));for(f=0;f<C.thumbAvailableSizes.length&&!(C.thumbSize=C.thumbAvailableSizesStr[f],b<C.thumbAvailableSizes[f]);f++);for(f=0;f<C.photoAvailableSizes.length&&!(C.photoSize=f,d<=C.photoAvailableSizes[f]);f++);
p(G.breadcrumbHome,"","","","","album","",0<c.photoset.length?c.photoset:"0","-1");pa(0,!0,-1,!1);break;case "smugmug":for(f=0;f<K.photoAvailableSizes.length&&!(K.thumbSize=f,b<=K.photoAvailableSizes[f]);f++);for(f=0;f<K.photoAvailableSizes.length&&!(K.photoSize=f,d<=K.photoAvailableSizes[f]);f++);p(G.breadcrumbHome,"","","","","album","","0","-1");k(0,!0,-1,!1);break;default:for(var f=0;f<L.thumbAvailableSizes.length;f++)if(L.thumbSize=L.thumbAvailableSizes[f],b<L.thumbAvailableSizes[f]){0<=L.thumbAvailableSizesCropped.indexOf(" "+
L.thumbAvailableSizes[f]+"")&&(L.thumbSizeHack=!1);break}0<c.album.length?(b=c.album.indexOf("&authkey="),0<=b?(d=c.album.substring(0,b),b=c.album.substring(b),-1==b.indexOf("Gv1sRg")&&(b="&authkey=Gv1sRg"+b.substring(9)),p(G.breadcrumbHome,"","","","","album","",d,"-1").customVars.authkey=b):p(G.breadcrumbHome,"","","","","album","",c.album,"-1")):p(G.breadcrumbHome,"","","","","album","","0","-1");n(0,!0,-1,!1)}jQuery(document).keyup(function(d){if(X)switch(d.keyCode){case 27:Ga(!0);break;case 32:case 13:bb();
break;case 38:case 39:case 33:ta();break;case 40:case 37:case 34:ua()}});jQuery(window).bind("hashchange",function(d){c.locationHash&&ja(!0)})}function ia(){if("undefined"!==typeof Hammer){var d=0;Hammer(H[0],{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}).on("drag release",function(a){switch(a.type){case "drag":d=a.gesture.deltaX;25>Math.abs(d)?H.css({left:0}):H.css({left:d});break;
case "release":a.stopPropagation(),25>Math.abs(d)&&H.css({left:0}),-25>d&&(va(),cb()),25<d&&(va(),db()),d=0}})}else new Pa(H[0])}function V(d,a){jQuery(d).css({left:a})}function Pa(d){function a(d){var b={};d.targetTouches?(b.x=d.targetTouches[0].clientX,b.y=d.targetTouches[0].clientY):(b.x=d.clientX,b.y=d.clientY);return b}function c(){r&&(V(l,da-(g.x-Y.x)),r=!1)}var l=d,r=!1,g=null,Y=null,da=0;this.handleGestureStart=function(d){X||(d.preventDefault(),d.touches&&1<d.touches.length||(g=a(d),window.navigator.msPointerEnabled?
(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0))))}.bind(this);this.handleGestureMove=function(d){d.preventDefault();
Y=a(d);r||(r=!0,window.requestAnimFrame(c))}.bind(this);this.handleGestureEnd=function(d){d.preventDefault();d.touches&&0<d.touches.length||(r=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",
this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),null==Y?(da=0,g=null):(d=g.x-Y.x,da-=d,-50>d&&(va(),db()),50<d&&(va(),cb()),da=0,Y=g=null,50>Math.abs(d)&&V(l,da)))}.bind(this);window.navigator.msPointerEnabled?l.addEventListener("MSPointerDown",this.handleGestureStart,!0):(l.addEventListener("touchstart",this.handleGestureStart,!0),l.addEventListener("mousedown",this.handleGestureStart,
!0))}function Ha(){"fancybox"==c.viewer&&"undefined"===typeof jQuery.fancybox&&(c.viewer="internal",T("Fancybox could not be found. Fallback to internal viewer. Please check the file includes of the page."));""!=c.blackList&&(Qa=c.blackList.toUpperCase().split("|"));""!=c.whiteList&&(Ra=c.whiteList.toUpperCase().split("|"));""!=c.albumList&&(Sa=c.albumList.toUpperCase().split("|"));if("picasa"==c.kind||"flickr"==c.kind||"smugmug"==c.kind)c.displayBreadcrumb=!0;void 0!==c.photoset?0<c.photoset.length&&
(c.displayBreadcrumb=!1):c.photoset="";void 0!==c.album?0<c.album.length&&(c.displayBreadcrumb=!1):c.album="";void 0!==c.gallery?0<c.gallery.length&&(c.displayBreadcrumb=!1):c.gallery="";0<c.maxWidth&&(jQuery(sa).css("maxWidth",+c.maxWidth),jQuery(sa).css("margin-left","auto"),jQuery(sa).css("margin-right","auto"));"number"==fa(c.slideshowDelay)&&2E3<=c.slideshowDelay?eb=c.slideshowDelay:T('Parameter "slideshowDelay" must be an integer >= 2000 ms.');"number"==fa(c.thumbnailDisplayInterval)&&0<=c.thumbnailDisplayInterval?
fb=c.thumbnailDisplayInterval:T('Parameter "thumbnailDisplayInterval" must be an integer.');"number"==fa(c.thumbnailLazyLoadTreshold)&&0<=c.thumbnailLazyLoadTreshold?gb=c.thumbnailLazyLoadTreshold:T('Parameter "thumbnailLazyLoadTreshold" must be an integer.');"number"==fa(c.paginationMaxItemsPerPage)&&0<=c.paginationMaxItemsPerPage?M=c.paginationMaxItemsPerPage:T('Parameter "paginationMaxItemsPerPage" must be an integer.');"number"==fa(c.paginationMaxLinesPerPage)&&0<=c.paginationMaxLinesPerPage?
I=c.paginationMaxLinesPerPage:T('Parameter "paginationMaxLinesPerPage" must be an integer.');0<M&&0<I&&(M=0);if("auto"==c.thumbnailHeight||"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)if(0<c.paginationMaxItemsPerPage&&T('Parameters "paginationMaxItemsPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),0<c.paginationMaxLinesPerPage&&T('Parameters "paginationMaxLinesPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),I=M=0,"undefined"==
typeof imagesLoaded&&(T('Parameter "thumbnailWidth/thumbnailHeight" on "auto" requires the jQuery plugin "imagesLoaded".'),"auto"==c.thumbnailHeight&&(c.thumbnailHeight=100),"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth))c.thumbnailWidth=100;switch(fa(c.thumbnailHoverEffect)){case "string":for(var d=c.thumbnailHoverEffect.split(","),b=0;b<d.length;b++)a.push({name:d[b],duration:200,durationBack:200,easing:"swing",easingBack:"swing"});break;case "object":void 0!=c.thumbnailHoverEffect.name&&
a.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},c.thumbnailHoverEffect));break;case "array":for(b=0;b<c.thumbnailHoverEffect.length;b++)void 0!=c.thumbnailHoverEffect[b].name&&a.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},c.thumbnailHoverEffect[b]));break;case "null":break;default:S('incorrect parameter for "thumbnailHoverEffect".')}for(b=0;b<a.length;b++){switch(a[b].name){case "slideUp":case "slideDown":case "slideLeft":case "slideRight":case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":case "labelAppear":case "labelAppear75":case "labelSlideDown":case "labelSlideUp":case "labelSlideUpTop":case "labelOpacity50":case "borderLighter":case "borderDarker":case "imageInvisible":case "imageOpacity50":case "descriptionSlideUp":case "labelSplitVert":case "labelSplit4":case "labelAppearSplitVert":case "labelAppearSplit4":case "imageSplitVert":case "imageSplit4":break;
case "imageScale150":case "imageScale150Outside":case "scale120":case "overScale":case "overScaleOutside":case "scaleLabelOverImage":case "imageFlipHorizontal":case "imageFlipVertical":case "rotateCornerBR":case "rotateCornerBL":case "imageRotateCornerBR":case "imageRotateCornerBL":ga||T('Parameter "'+a[b].name+'" for "thumbnailHoverEffect" requires the additional jQuery plugin "Transit".');break;default:S('Unknow parameter "'+a[b].name+'" for "thumbnailHoverEffect".')}0==a.length&&(c.touchAnimation=
!1)}}function hb(){ha=(navigator.language||navigator.userLanguage).toUpperCase();"undefined"===ha&&(ha="");var d=-("_"+ha).length;"object"==fa(c.i18n)&&Object.keys(c.i18n).forEach(function(a){var f=a.substr(d);f=="_"+ha?G[a.substr(0,a.length-f.length)]=c.i18n[a]:G[a]=c.i18n[a]})}function ja(d){if(!c.locationHash)return!1;var a=null,f=null,a="#nanogallery/"+la+"/",l=location.hash;if(l!=wa&&(""==l&&-1!=ib&&(wa="",xa(0,!1,-1,!1)),0==l.indexOf(a))){var r=l.substring(a.length),e=r.indexOf("/"),Y=l=-1,
da=g.length;if(0<e)for(a=r.substring(0,e),f=r.substring(e+1),r=0;r<da;r++){if("image"==g[r].kind&&g[r].GetID()==f){Y=r;break}}else a=r;for(r=0;r<da;r++)if("album"==g[r].kind&&g[r].GetID()==a){l=r;break}null!==f?(d||(Ta=l),""==c.kind?ya(Y):-1==Y?xa(l,!1,f,d):ya(Y)):xa(l,!1,-1,d);return!0}}function w(){g=[];var d=p("dummy","//:0","//:0","","","image","","1","0"),a=ub(d,0,0,!1);jb=a.outerWidth(!0)-a.width()+a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width();za=a.outerWidth(!0)-a.width();
qa=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width();Ua=a.outerHeight(!0)-a.height()+a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height();a.outerHeight(!0);a.height();Va=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height();"auto"!=c.thumbnailWidth&&"autoUpScale"!=c.thumbnailWidth&&(Ia=a.find(".imgContainer").outerWidth(!0));"auto"!=c.thumbnailHeight&&(Aa=a.find(".imgContainer").outerHeight(!0));O=a.outerWidth(!0);a.outerHeight(!0);kb="album"==
d.kind?a.find(".labelFolderTitle").outerHeight(!0):a.find(".labelImageTitle").outerHeight(!0);vb();t.oldBorderColor=a.css("border-color");if(""==t.oldBorderColor||null==t.oldBorderColor||void 0==t.oldBorderColor)t.oldBorderColor="#000";t.oldLabelOpacity=a.find(".labelImage").css("opacity");d=jQuery.Color(a.find(".labelImage"),"backgroundColor");t.oldLabelRed=d.red();t.oldLabelGreen=d.green();t.oldLabelBlue=d.blue();g=[]}function D(d,a){var c="";return""!=ha&&void 0!==d[a+"_"+ha]&&0<d[a+"_"+ha].length?
c=d[a+"_"+ha]:c=d[a]}function ma(d){return"%filename"==c.thumbnailLabel.title?d.split("/").pop().replace("_"," "):"%filenameNoExt"==c.thumbnailLabel.title?d.split("/").pop().split(".").shift().replace("_"," "):d}function Na(){var d=!1;jQuery.each(c.items,function(a,b){var f="",f=D(b,"title");void 0===f&&(f="");var l="",l=void 0!==b.srct&&0<b.srct.length?c.itemsBaseURL+b.srct:c.itemsBaseURL+b.src,r=c.itemsBaseURL+b.src;""!=c.thumbnailLabel.title&&(f=ma(r));var g="",g=D(b,"description");void 0===g&&
(g="");var e="";void 0!==b.destURL&&0<b.destURL.length&&(e=b.destURL);var h="",h=D(b,"tags");void 0===h&&(h="");var ea=0;void 0!==b.albumID&&(ea=b.albumID,d=!0);var s=null;void 0!==b.ID&&(s=b.ID);var k="image";void 0!==b.kind&&0<b.kind.length&&(k=b.kind);p(f,l,r,g,e,k,h,s,ea)});d&&(c.displayBreadcrumb=!0);for(var a=g.length,f=0,l=0,r=0;r<a;r++){for(var e=l=f=0;e<a;e++)r!=e&&g[r].GetID()==g[e].albumID&&(f++,"image"==g[e].kind&&(g[e].imageNumber=l++));g[r].contentLength=f}}function Oa(d){var a=!1;jQuery.each(d,
function(d,f){var l="";void 0!==jQuery(f).attr("data-ngthumb")&&0<jQuery(f).attr("data-ngthumb").length&&(l=c.itemsBaseURL+jQuery(f).attr("data-ngthumb"));void 0!==jQuery(f).attr("data-ngThumb")&&0<jQuery(f).attr("data-ngThumb").length&&(l=c.itemsBaseURL+jQuery(f).attr("data-ngThumb"));src=c.itemsBaseURL+jQuery(f).attr("href");var g="";void 0!==jQuery(f).attr("data-ngdesc")&&0<jQuery(f).attr("data-ngdesc").length&&(g=jQuery(f).attr("data-ngdesc"));void 0!==jQuery(f).attr("data-ngDesc")&&0<jQuery(f).attr("data-ngDesc").length&&
(g=jQuery(f).attr("data-ngDesc"));var r="";void 0!==jQuery(f).attr("data-ngdest")&&0<jQuery(f).attr("data-ngdest").length&&(r=jQuery(f).attr("data-ngdest"));void 0!==jQuery(f).attr("data-ngDest")&&0<jQuery(f).attr("data-ngDest").length&&(r=jQuery(f).attr("data-ngDest"));var e=0;void 0!==jQuery(f).attr("data-ngalbumid")&&(e=jQuery(f).attr("data-ngalbumid"),a=!0);void 0!==jQuery(f).attr("data-ngAlbumID")&&(e=jQuery(f).attr("data-ngAlbumID"),a=!0);var ea=null;void 0!==jQuery(f).attr("data-ngid")&&(ea=
jQuery(f).attr("data-ngid"));void 0!==jQuery(f).attr("data-ngID")&&(ea=jQuery(f).attr("data-ngID"));var h="image";void 0!==jQuery(f).attr("data-ngkind")&&0<jQuery(f).attr("data-ngkind").length&&(h=jQuery(f).attr("data-ngkind"));void 0!==jQuery(f).attr("data-ngKind")&&0<jQuery(f).attr("data-ngKind").length&&(h=jQuery(f).attr("data-ngKind"));var k=jQuery(f).text();""!=c.thumbnailLabel.title&&void 0!=c.thumbnailLabel.title&&(k=ma(src));p(k,l,src,g,r,h,"",ea,e)});jQuery.each(d,function(d,a){jQuery(a).remove()});
a&&(c.displayBreadcrumb=!0);d=g.length;for(var f=0,l=0,r=0;r<d;r++){for(var e=l=f=0;e<d;e++)r!=e&&g[r].GetID()==g[e].albumID&&(f++,"image"==g[e].kind&&(g[e].imageNumber=l++));g[r].contentLength=f}}function pa(d,a,f,l){Z(d);if(g[d].contentIsLoaded)u(d,l);else{var r="",ea="album";0==g[d].GetID()?r=C.url()+"?&method=flickr.photosets.getList&api_key="+C.ApiKey+"&user_id="+c.userID+"&primary_photo_extras=url_"+C.thumbSize+"&format=json&jsoncallback=?":(r=C.url()+"?&method=flickr.photosets.getPhotos&api_key="+
C.ApiKey+"&photoset_id="+g[d].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",ea="image");lb();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(r,function(c){Ba();"album"==ea?J(d,c):e(d,c);if(a)ja(!1)||u(d,l);else if(-1!=f){c=-1;for(var r=g.length,k=0;k<r;k++)if("image"==g[k].kind&&g[k].GetID()==f){c=k;break}ya(c,!0)}else u(d,l)}).fail(function(d,a,b){Ba();S("Could not retrieve Flickr photoset list (jQuery): "+
(a+", "+b))})}}function J(d,a){var f=!0;void 0!==a.stat&&"fail"===a.stat&&(S("Could not retrieve Flickr photoset list: "+a.message+" (code: "+a.code+")."),f=!1);if(f){var l=0;"undefined"!==typeof c.albumSorting&&("random"==c.albumSorting?a.photosets.photo=Ca(a.photosets.photoset):"reversed"==c.albumSorting&&(a.photosets.photo=a.photosets.photoset.reverse()));jQuery.each(a.photosets.photoset,function(a,b){itemTitle=b.title._content;itemID=b.id;itemDescription="";void 0!=b.description._content&&(itemDescription=
b.description._content);var c=b.primary_photo_extras["url_"+C.thumbSize],f="";void 0!==b.primary_photo_extras&&void 0!==b.primary_photo_extras.tags&&(f=b.primary_photo_extras.tags);mb(itemTitle)&&(c=p(itemTitle,c,"",itemDescription,"","album",f,itemID,g[d].GetID()),c.thumbWidth=b.primary_photo_extras["width_"+C.thumbSize],c.thumbHeight=b.primary_photo_extras["height_"+C.thumbSize],c.contentLength=b.photos,l++)});g[d].contentIsLoaded=!0;g[d].contentLength=l}}function e(d,a){"undefined"!==typeof c.photoSorting&&
("random"==c.photoSorting?a.photoset.photo=Ca(a.photoset.photo):"reversed"==c.photoSorting&&(a.photoset.photo=a.photoset.photo.reverse()));var f=g[d].GetID(),l=0;jQuery.each(a.photoset.photo,function(d,a){var b=a.title,g=a.id,e=a.description._content,k=a["url_"+C.thumbSize],m=a.url_sq;for(d=C.photoSize;0<=d;d--)if(void 0!=a["url_"+C.photoAvailableSizesStr[d]]){m=a["url_"+C.photoAvailableSizesStr[d]];break}""!=c.thumbnailLabel.title&&(b=ma(m));b=p(b,k,m,e,"","image","",g,f);b.imageNumber=l;void 0!==
a.url_o?(b.width=a.width_o,b.height=a.height_o):(b.width=a.width_z,b.height=a.height_z);b.thumbWidth=a["width_"+C.thumbSize];b.thumbHeight=a["height_"+C.thumbSize];l++});g[d].contentIsLoaded=!0;g[d].contentLength=l}function n(d,a,f,l){Z(d);if(g[d].contentIsLoaded)u(d,l);else{var r="",e="album";0==g[d].GetID()?r=L.url()+"user/"+c.userID+"?alt=json&kind=album&imgmax=d&thumbsize="+L.thumbSize:(r="","undefined"!==typeof g[d].customVars.authkey&&(r=g[d].customVars.authkey),r=L.url()+"user/"+c.userID+"/albumid/"+
g[d].GetID()+"?alt=json&kind=photo"+r+"&thumbsize="+L.thumbSize+"&imgmax=d",e="image");r+="&callback=?";lb();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(r,function(c){Ba();m(d,c,e);if(a)ja(!1)||u(d,l);else if(-1!=f){c=-1;for(var r=g.length,k=0;k<r;k++)if("image"==g[k].kind&&g[k].GetID()==f){c=k;break}ya(c,!0)}else u(d,l)}).fail(function(d,a,b){Ba();S("Could not retrieve Picasa/Google+ data (jQuery): "+(a+", "+b))})}}function m(d,a,f){var l=0,r=g[d].GetID();"image"==f?"undefined"!==
typeof c.photoSorting&&("random"==c.photoSorting?a.feed.entry=Ca(a.feed.entry):"reversed"==c.photoSorting&&(a.feed.entry=a.feed.entry.reverse())):"undefined"!==typeof c.albumSorting&&("random"==c.albumSorting?a.feed.entry=Ca(a.feed.entry):"reversed"==c.albumSorting&&(a.feed.entry=a.feed.entry.reverse()));jQuery.each(a.feed.entry,function(d,a){var b="",g=a.media$group.media$title.$t,e=a.media$group.media$thumbnail[0].url,k=a.gphoto$id.$t,m=a.media$group.media$description.$t;"image"==f&&(b=g,g=m,m=
"");var n=a.media$group.media$content[0].url;""!=c.thumbnailLabel.title&&(g=ma(unescape(unescape(unescape(unescape(n))))));var h=!0;"album"==f&&(mb(g)||(h=!1));if(h){"auto"==c.thumbnailHeight&&L.thumbSizeHack&&(h=e.substring(0,e.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",e=h+"w"+c.thumbnailWidth*W+"/");"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?L.thumbSizeHack&&(h=e.substring(0,e.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",e=h+"h"+c.thumbnailHeight*W+"/"):
1<W&&g_picasaThumbSizeHack&&(h=e.substring(0,e.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",e=h+"s"+g_picasaThumbSize*W+"/");h="";"album"==f?h=k:(h=n.substring(0,n.lastIndexOf("/")),h=h.substring(0,h.lastIndexOf("/"))+"/",h=window.screen.width>window.screen.height?h+"w"+window.screen.width+"/"+b:h+"h"+window.screen.height+"/"+b);b=p(g,e,h,m,"",f,"",k,r);b.imageNumber=l;"album"==f&&(b.author=a.author[0].name.$t,b.contentLength=a.gphoto$numphotos.$t);if("image"==f)b.width=a.gphoto$width.$t,
b.height=a.gphoto$height.$t,b.thumbWidth=a.media$group.media$thumbnail[0].width,b.thumbHeight=a.media$group.media$thumbnail[0].height;else if("auto"==c.thumbnailHeight&&(b.thumbWidth=L.thumbSize),"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)b.thumbHeight=L.thumbSize;l++}});g[d].contentIsLoaded=!0;g[d].contentLength=l}function k(d,a,f,l){Z(d);if(g[d].contentIsLoaded)u(d,l);else{var e="",m="album";0==g[d].GetID()?e=K.url()+"?method=smugmug.albums.get&NickName="+c.userID+"&Heavy=true&APIKey="+
K.APIKey:(e=K.url()+"?method=smugmug.images.get&NickName="+c.userID+"&Heavy=true&AlbumID="+g[d].GetID()+"&APIKey="+K.APIKey,m="image");e+="&Callback=?";lb();jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;jQuery.getJSON(e,function(e){Ba();if("fail"==e.stat)console.dir(e),S("Could not retrieve SMUGMUG data (jQuery): "+e.message);else{x(d,e,m);if(""!=c.gallery){c.displayBreadcrumb=!1;e=g.length;for(var r=0;r<e;r++)if(g[r].title.toUpperCase()==c.gallery.toUpperCase()){k(r,a,f,l);return}c.displayBreadcrumb=
!0;c.gallery=""}if(a)ja(!1)||u(d,l);else if(-1!=f){var n=-1;e=g.length;for(r=0;r<e;r++)if("image"==g[r].kind&&g[r].GetID()==f){n=r;break}ya(n,!0)}else u(d,l)}}).fail(function(d,a,b){Ba();S("Could not retrieve SMUGMUG data (jQuery): "+(a+", "+b))})}}function x(d,a,f){var l=0,e=g[d].GetID();"album"==f?("undefined"!==typeof c.albumSorting&&("random"==c.albumSorting?a.Albums=Ca(a.Albums):"reversed"==c.albumSorting&&(a.Albums=a.Albums.reverse())),jQuery.each(a.Albums,function(a,d){var b=d.Title,g=d.id+
"&AlbumKey="+d.Key,k=d.Description,m=!0;"album"==f&&(mb(b)||(m=!1));m&&(b=p(b,"css/nano_gallery.png","//:0",k,"",f,"",g,e),b.imageNumber=l,b.contentLength=d.ImageCount,"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?(b.thumbWidth=c.thumbnailHeight,b.thumbHeight=c.thumbnailHeight):"auto"==c.thumbnailHeight?(b.thumbWidth=c.thumbnailWidth,b.thumbHeight=c.thumbnailWidth):(b.thumbWidth=c.thumbnailWidth,b.thumbHeight=c.thumbnailHeight),l++)})):("undefined"!==typeof c.photoSorting&&("random"==
c.photoSorting?a.Album.Images=Ca(a.Album.Images):"reversed"==c.photoSorting&&(a.Album.Images=a.Album.Images.reverse())),jQuery.each(a.Album.Images,function(a,b){var k=b.Caption;""!=c.thumbnailLabel.title&&(k=ma(b.FileName));var m=b.TinyURL;for(a=K.thumbSize;0<=a;a--)if(void 0!=b[K.photoAvailableSizesStr[a]]){m=b[K.photoAvailableSizesStr[a]];break}0==l&&(g[d].thumbsrc=m);var n=b.Key,u=b.ThumbURL;for(a=K.photoSize;0<=a;a--)if(void 0!=b[K.photoAvailableSizesStr[a]]){u=b[K.photoAvailableSizesStr[a]];
break}k=p(k,m,u,"","",f,"",n,e);k.imageNumber=l;"auto"==c.thumbnailHeight&&(k.thumbWidth=c.thumbnailWidth);if("auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)k.thumbHeight=c.thumbnailHeight;l++}));g[d].contentIsLoaded=!0;g[d].contentLength=l}function p(a,b,c,l,e,k,m,n,p){a=new Pb(a,n);a.thumbsrc=b;a.src=c;a.description=l;a.destinationURL=e;a.kind=k;a.albumID=p;a.tags=0==m.length?null:m.split(" ");g.push(a);return a}function u(a,b){"display"==c.lazyBuild?nb(H,c.lazyBuildTreshold)?$(a,b):
(Wa=a,wb=b):$(a,b)}function $(a,b){c.lazyBuild="none";Ta=Wa=-1;X&&Ga(!1);if(a!=ib){if(c.locationHash&&b){var f="nanogallery/"+la+"/"+g[a].GetID();wa="#"+f;top.location.hash=f}ib=g[a].GetID();Z(a);f=0;0<g[a].paginationLastPage&&g[a].paginationLastWidth==H.width()&&(f=g[a].paginationLastPage);Ja(a,f)}}function E(a){var b="folder";0==a&&(b="folderHome");b=jQuery('<div class="'+b+' oneFolder">'+g[a].title+"</div>").appendTo(na);jQuery(b).data("albumIdx",a);b.click(function(){var a=jQuery(this).data("albumIdx");
jQuery(this).nextAll().remove();xa(a,!1,-1,!0)})}function xb(a){var b=jQuery('<div class="separator"></div>').appendTo(na);jQuery(b).data("albumIdx",a);b.click(function(){var a=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();jQuery(this).remove();xa(a,!1,-1,!0)})}function Z(a){var b=!1;if(!0==c.displayBreadcrumb){var b=!0,f=na.children().length;0==f?(c.breadcrumbAutoHideTopLevel&&(aa.css({opacity:"0","max-height":"0px"}),b=!1),E(0)):(1==f&&c.breadcrumbAutoHideTopLevel?aa.animate({opacity:"0",
"max-height":"0px"}):aa.animate({opacity:"1","max-height":"50px"}),na.children().not(":first").remove());if(0!=a){var f=g.length,l=[];for(l.push(a);0!=g[a].albumID;)for(i=1;i<f;i++)if(g[i].GetID()==g[a].albumID){a=i;l.push(a);break}xb(0);for(i=l.length-1;0<=i;i--)0<i&&xb(l[i-1]),E(l[i])}}c.useTags&&(b=!0,null==yb&&(yb=jQuery('<div class="nanoGalleryTags"></div>').appendTo(ob)));!zb&&b&&(zb=!0,aa.show())}function lb(){!0==c.displayBreadcrumb&&na.find(".oneFolder").last().addClass("loading")}function Ba(){!0==
c.displayBreadcrumb&&na.find(".oneFolder").last().removeClass("loading")}function xa(a,b,f,l){switch(c.kind){case "":u(a,l);break;case "flickr":pa(a,b,f,l);break;case "smugmug":k(a,b,f,l);break;default:n(a,b,f,l)}}function pb(){if("auto"==c.thumbnailHeight){Xa(0);Ka(0);var a=H.width(),b=0,f=0,l=0,e=0,k=parseInt(a/O);0<c.maxItemsPerLine&&k>c.maxItemsPerLine&&(k=c.maxItemsPerLine);var m=[];P.find(".nanoGalleryThumbnailContainer").each(function(){jQuery(this).css("position","absolute");f=0;if(0==e){var a=
l*O;jQuery(this).css({top:f,left:a});m[l]=f+jQuery(this).outerHeight(!0);0==jQuery(this).css("opacity")&&(c.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1));l++;l>=k&&(l=0,e++)}else{var d=0,a=m[0];for(i=1;i<k;i++)m[i]<a&&(a=m[i],d=i);f=m[d];a=d*O;jQuery(this).css({top:f,left:a});0==jQuery(this).css("opacity")&&(c.thumbnailDisplayTransition?jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1));m[d]=f+jQuery(this).outerHeight(!0)}b++});var n=m[0];for(i=1;i<k;i++)m[i]>
n&&(n=m[i]);P.width(a).height(n)}else if("auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth){Xa(0);Ka(0);var a=H.width(),p=0,ka=0,u=0,x=[],t=0,h=[],E=!1;P.find(".nanoGalleryThumbnailContainer").each(function(){var b=jQuery(this).data("index");if(void 0!==b&&0<g[b].thumbWidth){var f=g[b],f=Math.ceil(f.thumbWidth/f.thumbHeight*c.thumbnailHeight)+za+qa;E&&(E=!1,t++,p=0);if("auto"!=c.thumbnailWidth)if(p+f<a)p+=f,h[t]=c.thumbnailHeight,x[t]=b;else{var l=Math.floor(c.thumbnailHeight*a/p);h[t]=l;
t++;x[t]=b;h[t]=c.thumbnailHeight;p=f}else p+f<a?(p+=f,h[t]=c.thumbnailHeight,x[t]=b):(p+=f,l=Math.floor(c.thumbnailHeight*a/p),h[t]=l,x[t]=b,E=!0)}});ka=u=t=0;P.find(".nanoGalleryThumbnailContainer").each(function(){var b=jQuery(this).data("index");if(void 0!==b&&0<g[b].thumbWidth){jQuery(this).css("position","absolute");var f=g[b],l=Math.ceil(f.thumbWidth/f.thumbHeight*h[t]);b==x[t]&&(x.length!=t+1?l=a-ka-za-qa:ka+l+za+qa>a&&(l=a-ka-za-qa));jQuery(this).height(h[t]+Va).width(l+qa);jQuery(this).find(".imgContainer").height(h[t]).width(l);
jQuery(this).find("img").height(h[t]).width(l);jQuery(this).css({top:u,left:ka});0==jQuery(this).css("opacity")&&(c.thumbnailDisplayTransition?"function"==typeof c.fnThumbnailDisplayEffect?c.fnThumbnailDisplayEffect(jQuery(this),f,0):jQuery(this).fadeTo(150,1):jQuery(this).css("opacity",1));ka+=l+za+qa;b==x[t]&&(u+=h[t]+Ua,t++,ka=0)}});P.width(a).height(u+c.thumbnailHeight)}else Xa(0),Ka(0),0<I&&0<O&&(a=H.outerWidth(!0),b=parseInt(a/O),1>b&&(b=1),b!=U&&(vb(),n=N.data("galleryIdx"),Ja(n,0)))}function vb(){if(0<
I){var a=H.outerWidth(!0);U=parseInt(a/O);1>U&&(U=1);0<c.maxItemsPerLine&&U>c.maxItemsPerLine&&(U=c.maxItemsPerLine)}}function Xa(a){if(0<O&&(0<c.maxWidth&&O>c.maxWidth&&jQuery(sa).css("maxWidth",O),a=H.outerWidth(!0),"auto"!=c.thumbnailWidth&&"autoUpScale"!=c.thumbnailWidth)){var b=!1;0<c.maxItemsPerLine&&c.maxItemsPerLine*O<=a&&(P.css("maxWidth",c.maxItemsPerLine*O),b=!0);b||(a=parseInt(a/O),0<a&&P.css("maxWidth",a*O))}}function Ka(a){c.galleryToolbarWidthAligned&&void 0!==aa&&(a=P.outerWidth(!0),
aa.width(),aa.width(a))}function Ab(){var a=P.find(".nanoGalleryThumbnailContainer").filter(function(){return Bb(this,gb)});jQuery(a).each(function(){var a=jQuery(this).find("img");if("//:0"==jQuery(a).attr("src")){var d=jQuery(this).data("index");jQuery(a).attr("src",g[d].thumbsrc)}})}function mb(a){a=a.toUpperCase();if(null!==Sa)for(var b=0;b<Sa.length;b++){if(a==Sa[b].toUpperCase())return!0}else{var c=!1;if(null!==Ra){for(b=0;b<Ra.length;b++)-1!==a.indexOf(Ra[b])&&(c=!0);if(!c)return!1}if(null!==
Qa)for(b=0;b<Qa.length;b++)if(-1!==a.indexOf(Qa[b]))return!1;return!0}}function Qb(a,b){if(void 0!=N){N.children().remove();N.data("galleryIdx",a);N.data("currentPageNumber",b);var c=0,l=0;if(0<b){var e=jQuery('<div class="paginationPrev">'+G.paginationPrevious+"</div>").appendTo(N),l=l+jQuery(e).outerWidth(!0);e.click(function(a){db()})}e=0;0!=M&&(c=Math.ceil(g[a].contentLength/M));0<I&&(c=Math.ceil(g[a].contentLength/(I*U)));5<=b?(e=b-5,c>b+6&&(c=b+6)):10<c&&(c=10);if(1!=c){for(;e<c;e++){var k=
"";e==b&&(k=" currentPage");k=jQuery('<div class="paginationItem'+k+'">'+(e+1)+"</div>").appendTo(N);jQuery(k).data("pageNumber",e);l+=jQuery(k).outerWidth(!0);k.click(function(a){a=N.data("galleryIdx");var d=jQuery(this).data("pageNumber");Ja(a,d)})}b+1<c&&(c=jQuery('<div class="paginationNext">'+G.paginationNext+"</div>").appendTo(N),l+=jQuery(c).outerWidth(!0),c.click(function(a){cb()}));N.width(l)}}}function cb(){var a=N.data("galleryIdx"),b=0;0!=M&&(b=g[a].contentLength/M);0<I&&(b=g[a].contentLength/
(I*U));n2=Math.ceil(b);b=N.data("currentPageNumber");b<n2-1?b++:b=0;Ja(a,b)}function db(){var a=N.data("galleryIdx"),b=0;0!=M&&(b=g[a].contentLength/M);0<I&&(b=g[a].contentLength/(I*U));n2=Math.ceil(b);b=N.data("currentPageNumber");0<b?b--:b=n2-1;Ja(a,b)}function Ja(a,b){P.parent().animate({opacity:0},100).promise().done(function(){P.off().empty();for(var c=g.length,l=0;l<c;l++)g[l].hovered=!1;H.css({left:0,opacity:"1"});Rb(a,b,Sb)})}function Rb(d,b,f){if(-1!=d){g[d].paginationLastPage=b;g[d].paginationLastWidth=
H.width();var l=g.length,e=0,k=0,m=0,n=0;0<M&&(m=b*M,n=m+M);0<I&&(m=b*I*U,n=m+I*U);!0==c.displayBreadcrumb&&na.find(".oneFolder").last().removeClass("loading");var p="1";c.thumbnailDisplayTransition&&(p="0");var u=!1,x=!1,E=0;(function(){for(var $=0;100>$;$++){if(E>=l){f(d,b);return}var h=g[E];if(h.albumID==g[d].GetID()){k++;if(0<M&&k>n){f(d,b);return}if(0<I&&e+1>I*U){f(d,b);return}if(k>m){e++;var q=ub(h,E,p,!1);var s=q;if("function"==typeof c.fnThumbnailInit)c.fnThumbnailInit(s,h);else switch(c.thumbnailLabel.position){case "onBottom":s.find(".labelImage").css({top:"0",
position:"relative",width:"100%"});s.find(".labelImageTitle").css("white-space","nowrap");s.find(".labelFolderTitle").css("white-space","nowrap");s.find(".labelDescription").css("white-space","nowrap");break;case "overImageOnTop":s.find(".labelImage").css({top:"0"});break;case "overImageOnMiddle":s.find(".labelImage").css({top:"0",height:"100%",width:"100%"});s.find(".labelFolderTitle").css({width:"100%",position:"absolute",bottom:"50%"});s.find(".labelImageTitle").css({width:"100%",position:"absolute",
bottom:"50%"});s.find(".labelDescription").css({width:"100%",position:"absolute",top:"50%"});break;default:c.thumbnailLabel.position="overImageOnBottom",s.find(".labelImage").css({bottom:"0",width:"100%"})}Cb(q,h);var s="auto"==c.thumbnailHeight&&0==g[E].thumbHeight||("auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth)&&0==g[E].thumbWidth,v=q.detach();s?v.css("opacity",0):v.css("opacity",p);v.appendTo(P);("auto"==c.thumbnailHeight&&0<h.thumbHeight||("auto"==c.thumbnailWidth||"autoUpScale"==
c.thumbnailWidth)&&0<h.thumbWidth)&&pb();v.removeClass("nanogalleryHideElement");s||c.thumbnailDisplayTransition&&(0<fb?"function"==typeof c.fnThumbnailDisplayEffect?c.fnThumbnailDisplayEffect(v,h,e):v.delay(e*fb).fadeTo(150,1):"function"==typeof c.fnThumbnailDisplayEffect?c.fnThumbnailDisplayEffect(v,h,0):v.fadeTo(150,1));c.thumbnailLazyLoad&&!u&&(Bb(q,gb)?(q.find("img").attr("src",h.thumbsrc),x=!0):x&&(u=!0));h=q;s=jQuery(h).data("index");if(void 0!=s)for(q=g[s],"function"==typeof c.fnThumbnailHoverInit&&
c.fnThumbnailHoverInit(h,q),j=0;j<a.length;j++){s=!1;switch(a[j].name){case "imageSplit4":if("onBottom"!=c.thumbnailLabel.position){h.find(".subcontainer").css({overflow:"hidden",position:"relative",width:"100%",height:"100%"});h.find(".labelImage").css({left:"auto"});var v=h.width(),z=h.height();h.find(".subcontainer").prepend(h.find(".imgContainer").clone());h.find(".subcontainer").prepend(h.find(".imgContainer").clone());var y="rect(0px, "+v/2+"px, "+z/2+"px, 0px)";h.find(".imgContainer").eq(0).css({right:"0%",
top:"0%",clip:y,position:"absolute"});y="rect(0px, "+v+"px, "+z/2+"px, "+v/2+"px)";h.find(".imgContainer").eq(1).css({left:"0%",top:"0%",clip:y,position:"absolute"});y="rect("+z/2+"px, "+v+"px, "+z+"px, "+v/2+"px)";h.find(".imgContainer").eq(2).css({left:"0%",bottom:"0%",clip:y,position:"absolute"});y="rect("+z/2+"px, "+v/2+"px, "+z+"px, 0px)";h.find(".imgContainer").eq(3).css({right:"0%",bottom:"0%",clip:y,position:"absolute"});Q("",jQuery(h).find(".imgContainer"))}break;case "imageSplitVert":"onBottom"!=
c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),h.find(".labelImage").css({left:"auto"}),v=h.width(),z=h.height(),h.find(".subcontainer").prepend(h.find(".imgContainer").clone()),y="rect(0px, "+v/2+"px, "+z+"px, 0px)",h.find(".imgContainer").eq(0).css({right:"0%",clip:y,position:"absolute"}),y="rect(0px, "+v+"px, "+z+"px, "+v/2+"px)",h.find(".imgContainer").eq(1).css({left:"0%",clip:y,position:"absolute"}),Q("",jQuery(h).find(".imgContainer")));
break;case "labelSplit4":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative"}),h.find(".labelImage").css({left:"auto"}),v=h.width(),z=h.height(),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),y="rect(0px, "+v/2+"px, "+z/2+"px, 0px)",h.find(".labelImage").eq(0).css({right:"0%",top:"0%",clip:y}),y="rect(0px, "+v+"px, "+z/2+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"0%",
top:"0%",clip:y}),y="rect("+z/2+"px, "+v+"px, "+z+"px, "+v/2+"px)",h.find(".labelImage").eq(2).css({left:"0%",top:"0%",clip:y}),y="rect("+z/2+"px, "+v/2+"px, "+z+"px, 0px)",h.find(".labelImage").eq(3).css({right:"0%",top:"0%",clip:y}));break;case "labelSplitVert":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative"}),h.find(".labelImage").css({left:"auto"}),v=h.width(),z=h.height(),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),
y="rect(0px, "+v/2+"px, "+z+"px, 0px)",h.find(".labelImage").eq(0).css({right:"0%",clip:y}),y="rect(0px, "+v+"px, "+z+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"0%",clip:y}));break;case "labelAppearSplit4":"onBottom"!=c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative"}),h.find(".labelImage").css({left:"auto"}),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),v=h.find(".subcontainer").width(),
z=h.find(".subcontainer").height(),y="rect(0px, "+v/2+"px, "+z/2+"px, 0px)",h.find(".labelImage").eq(0).css({right:"50%",top:"-50%",clip:y}),y="rect(0px, "+v+"px, "+z/2+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"50%",top:"-50%",clip:y}),y="rect("+z/2+"px, "+v+"px, "+z+"px, "+v/2+"px)",h.find(".labelImage").eq(2).css({left:"50%",top:"50%",clip:y}),y="rect("+z/2+"px, "+v/2+"px, "+z+"px, 0px)",h.find(".labelImage").eq(3).css({right:"50%",top:"50%",clip:y}));break;case "labelAppearSplitVert":"onBottom"!=
c.thumbnailLabel.position&&(h.find(".subcontainer").css({overflow:"hidden",position:"relative"}),h.find(".labelImage").css({left:"auto"}),h.find(".labelImage").clone().appendTo(h.find(".subcontainer")),v=h.find(".subcontainer").width(),z=h.find(".subcontainer").height(),y="rect(0px, "+v/2+"px, "+z+"px, 0px)",h.find(".labelImage").eq(0).css({right:"50%",clip:y}),y="rect(0px, "+v+"px, "+z+"px, "+v/2+"px)",h.find(".labelImage").eq(1).css({left:"50%",clip:y}));break;case "scaleLabelOverImage":"onBottom"!=
c.thumbnailLabel.position&&(Q("",jQuery(h).find(".imgContainer")),jQuery(h).find(".labelImage").css({opacity:"0",scale:.5}),jQuery(h).find(".imgContainer").css({scale:"1"}),s=!0);break;case "overScale":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),Q("",jQuery(h).find(".labelImage")),jQuery(h).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(h).find(".imgContainer").css({opacity:"1",scale:"1"}),s=!0);break;case "overScaleOutside":"onBottom"!=c.thumbnailLabel.position&&
(Q("",jQuery(h).find(".labelImage")),jQuery(h).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(h).find(".imgContainer").css({opacity:"1",scale:"1"}),s=!0);break;case "rotateCornerBL":"onBottom"!=c.thumbnailLabel.position&&ga&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css({rotate:"-90deg","transform-origin":"100% 100%"}),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),s=!0);break;case "rotateCornerBR":"onBottom"!=c.thumbnailLabel.position&&
ga&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css({rotate:"90deg","transform-origin":"0% 100%"}),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),s=!0);break;case "imageRotateCornerBL":"onBottom"!=c.thumbnailLabel.position&&ga&&(Q(h,jQuery(h).find(".imgContainer")),jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1"),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),
s=!0);break;case "imageRotateCornerBR":"onBottom"!=c.thumbnailLabel.position&&ga&&(Q(h,jQuery(h).find(".imgContainer")),jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1"),jQuery(h).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),s=!0);break;case "slideUp":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("top",q.thumbRealHeight),jQuery(h).find(".imgContainer").css({left:"0",
top:"0"}),s=!0);break;case "slideDown":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("top",-q.thumbRealHeight),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;case "slideRight":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("left",-q.thumbRealWidth),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;
case "slideLeft":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1").css("left",q.thumbRealWidth),jQuery(h).find(".imgContainer").css({left:"0",top:"0"}),s=!0);break;case "imageSlideUp":case "imageSlideDown":case "imageSlideRight":case "imageSlideLeft":"onBottom"!=c.thumbnailLabel.position&&(Q(h,jQuery(h).find(".imgContainer")),jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css("opacity","1"),jQuery(h).find(".imgContainer").css({left:"0",
top:"0"}),s=!0);break;case "labelAppear":case "labelAppear75":"onBottom"!=c.thumbnailLabel.position&&(s="rgb("+t.oldLabelRed+","+t.oldLabelGreen+","+t.oldLabelBlue+",0)",jQuery(h).find(".labelImage").css("backgroundColor",s),jQuery(h).find(".labelImageTitle").css("opacity","0"),jQuery(h).find(".labelFolderTitle").css("opacity","0"),jQuery(h).find(".labelDescription").css("opacity","0"),s=!1);break;case "labelSlideUpTop":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css({top:q.thumbRealHeight,
bottom:"none",height:"100%"}),s=!0);break;case "labelSlideUp":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css({bottom:-q.thumbRealHeight,top:"none"}),s=!0);break;case "labelSlideDown":"onBottom"!=c.thumbnailLabel.position&&(jQuery(h).css("overflow","hidden"),jQuery(h).find(".labelImage").css({top:-q.thumbRealHeight,bottom:"none"}),s=!0);break;case "descriptionSlideUp":"overImageOnBottom"==c.thumbnailLabel.position&&(jQuery(h).css("overflow",
"hidden"),s=q.thumbRealHeight-(jQuery(h).find(".labelImage").outerHeight(!0)-jQuery(h).find(".labelImage").height())/2-kb+"px",jQuery(h).find(".labelImage").css({top:s,bottom:null}),s=!0);break;case "imageFlipHorizontal":ga&&(s=Math.round(1.2*q.thumbRealHeight)+"px",jQuery(h).find(".imgContainer").css({perspective:s,rotateX:"0deg","backface-visibility":"hidden"}),jQuery(h).find(".labelImage").css({perspective:s,rotateX:"180deg","backface-visibility":"hidden",height:q.thumbRealHeight,opacity:"1"}),
s=!0);break;case "imageFlipVertical":ga&&(s=Math.round(1.2*q.thumbRealWidth)+"px",jQuery(h).find(".imgContainer").css({perspective:s,rotateY:"0deg","backface-visibility":"hidden"}),jQuery(h).find(".labelImage").css({perspective:s,rotateY:"180deg","backface-visibility":"hidden",height:q.thumbRealHeight,opacity:"1"}),s=!0);break;case "flipHorizontal":s=Math.round(1.2*q.thumbRealHeight)+"px";jQuery(h).find(".labelImage").css({perspective:s,rotateX:"180deg","backface-visibility":"hidden",opacity:"1",
height:"100%"});s=!0;break;case "flipVertical":s=Math.round(1.2*q.thumbRealWidth)+"px";jQuery(h).find(".subcontainer").css({perspective:s,rotateY:"0deg"});jQuery(h).find(".labelImage").css({perspective:s,rotateY:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});s=!0;break;case "borderLighter":case "borderDarker":s=!1;break;case "imageScale150":jQuery(h).css("overflow","hidden");case "imageScale150Outside":s=!0}ga||(s=!1);s?("swing"==a[j].easing&&(a[j].easing="ease"),"swing"==a[j].easingBack&&
(a[j].easingBack="ease"),a[j].method="transit"):"swing"!=a[j].easing||"swing"!=a[j].easingBack?(a[j].method="transit","swing"==a[j].easing&&(a[j].easing="ease"),"swing"==a[j].easingBack&&(a[j].easingBack="ease")):a[j].method="jquery"}}}E++}E<l?(Ka(b),setTimeout(arguments.callee,0)):f(d,b)})()}}function Sb(a,b){P.on("mouseenter",".nanoGalleryThumbnailContainer",function(){Db(this)}).on("mouseleave",".nanoGalleryThumbnailContainer",function(){Eb(this)}).on("touchstart",".nanoGalleryThumbnailContainer",
function(a){a.preventDefault();Fb(this)}).on("click",".nanoGalleryThumbnailContainer",function(a){jQuery(this);Fb(this)});Xa(b);Ka(b);Qb(a,b)}function ub(a,b,f,l){var e=[],k=0;e[k++]='<div class="nanoGalleryThumbnailContainer nanogalleryHideElement" style="display:inline-block,opacity:'+f+'" ><div class="subcontainer" style="display: inline-block">';var m="",m=c.thumbnailLazyLoad?"//:0":a.thumbsrc;f=!1;"auto"==c.thumbnailHeight?(e[k++]='<div class="imgContainer" style="width:'+c.thumbnailWidth+'px;"><img class="image" src='+
m+' alt=" " style="width:'+c.thumbnailWidth+'px;"></div>',0==g[b].thumbHeight&&(f=!0)):"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?(e[k++]='<div class="imgContainer" style="height:'+c.thumbnailHeight+'px;"><img class="image" src='+m+' alt=" " style="height:'+c.thumbnailHeight+'px;" ></div>',0==g[b].thumbWidth&&(f=!0)):e[k++]='<div class="imgContainer" style="width:'+c.thumbnailWidth+"px;height:"+c.thumbnailHeight+'px;"><img class="image" src='+m+' alt=" " style="max-width:'+c.thumbnailWidth+
"px;max-height:"+c.thumbnailHeight+'px;" ></div>';var m=Tb(a),n=Ub(a);if("album"==a.kind){if(!0==c.thumbnailLabel.display){if(0<a.contentLength)switch(c.thumbnailLabel.itemsCount){case "title":m+=" "+G.thumbnailLabelItemsCountPart1+a.contentLength+G.thumbnailLabelItemsCountPart2;break;case "description":n+=" "+G.thumbnailLabelItemsCountPart1+a.contentLength+G.thumbnailLabelItemsCountPart2}e[k++]='<div class="labelImage" style="width:'+c.thumbnailWidth+'px;"><div class="labelFolderTitle labelTitle" >'+
m+'</div><div class="labelDescription" >'+n+"</div></div>"}}else!0==c.thumbnailLabel.display&&(l&&0==n.length&&"onBottom"==c.thumbnailLabel.position&&(n="&nbsp;"),e[k++]='<div class="labelImage" style="width:'+c.thumbnailWidth+'px;"><div class="labelImageTitle labelTitle" >'+m+'</div><div class="labelDescription" >'+n+"</div></div>");e[k++]="</div></div>";l=jQuery(e.join("")).appendTo(Gb);a.$elt=l;l.data("index",b);l.find("img").data("index",b);f&&l.imagesLoaded().always(function(a){var d=g[jQuery(a.images[0].img).data("index")];
if(void 0!==d){var b=!1;d.thumbHeight!=a.images[0].img.naturalHeight&&(d.thumbHeight=a.images[0].img.naturalHeight,b=a.images[0].img.naturalHeight/a.images[0].img.naturalWidth,b*=c.thumbnailWidth,d.$elt.find(".imgContainer").height(b),d.thumbRealHeight=b+Ua,d.$elt.height(d.thumbRealHeight),b=!0);d.thumbWidth!=a.images[0].img.naturalWidth&&(d.thumbWidth=a.images[0].img.naturalWidth,b=a.images[0].img.naturalWidth/a.images[0].img.naturalHeight,a=c.thumbnailHeight*b,d.$elt.find(".imgContainer").width(a),
d.thumbRealWidth=a+jb,d.$elt.width(d.thumbRealWidth),b=!0);b&&(Cb(d.$elt,d),pb())}});return l}function Tb(a){a=a.title;if(!0==c.thumbnailLabel.display){if(void 0===a||0==a.length)a="&nbsp;";""!=G.thumbnailImageTitle&&(a=G.thumbnailImageTitle);3<c.thumbnailLabel.titleMaxLength&&a.length>c.thumbnailLabel.titleMaxLength&&(a=a.substring(0,c.thumbnailLabel.titleMaxLength)+"...")}return a}function Ub(a){var b="";!0==c.thumbnailLabel.displayDescription&&(b="album"==a.kind?""!=G.thumbnailImageDescription?
G.thumbnailAlbumDescription:a.description:""!=G.thumbnailImageDescription?G.thumbnailImageDescription:a.description,3<c.thumbnailLabel.descriptionMaxLength&&b.length>c.thumbnailLabel.descriptionMaxLength&&(b=b.substring(0,c.thumbnailLabel.descriptionMaxLength)+"..."));return b}function Cb(a,b){if("auto"==c.thumbnailHeight){if(0<b.thumbHeight){var f=b.thumbHeight/b.thumbWidth;a.find(".imgContainer").height(c.thumbnailWidth*f);b.thumbRealHeight=c.thumbnailWidth*f;"onBottom"==c.thumbnailLabel.position?
(a.height(b.thumbRealHeight+a.find(".labelImage").outerHeight(!0)+Va),a.width(c.thumbnailWidth+a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height())):a.height(b.thumbRealHeight+Va).width(c.thumbnailWidth+a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height())}b.thumbRealWidth=Ia}else"auto"==c.thumbnailWidth||"autoUpScale"==c.thumbnailWidth?(0<b.thumbWidth&&(f=b.thumbHeight/b.thumbWidth,a.find(".imgContainer").width(c.thumbnailHeight*f),b.thumbRealWidth=c.thumbnailHeight*
f+jb,a.width(b.thumbRealWidth).height(c.thumbnailHeight+a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width())),b.thumbRealHeight=Aa):("onBottom"==c.thumbnailLabel.position?a.width(Ia).height(Aa+a.find(".labelImage").outerHeight(!0)+Ua):a.width(Ia).height(Aa),b.thumbRealHeight=Aa,b.thumbRealWidth=Ia)}function Fb(a){var b=jQuery(a).data("index");!1==c.touchAnimation||!0===g[b].hovered?void 0!==g[b].destinationURL&&0<g[b].destinationURL.length?window.location=g[b].destinationURL:"album"==
g[b].kind?xa(b,!1,-1,!0):ya(b,!1):(va(),Db(a))}function va(){for(var a=g.length,b=0;b<a;b++)!0===g[b].hovered&&Eb(g[b].$elt)}function Db(d){jQuery(d).find("*").stop(!0,!0);var b=jQuery(d).data("index");if(void 0!=b){var f=g[b];f.hovered=!0;"function"==typeof c.fnThumbnailHover&&c.fnThumbnailHover(jQuery(d),f);try{for(j=0;j<a.length;j++)switch(a[j].name){case "imageSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".imgContainer").eq(0).transition({right:"50%",
top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(1).transition({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(2).transition({left:"50%",bottom:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(3).transition({right:"50%",bottom:"-50%"},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").eq(0).animate({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(1).animate({left:"50%",
top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(2).animate({left:"50%",bottom:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(3).animate({right:"50%",bottom:"-50%"},a[j].duration,a[j].easing)));break;case "imageSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".imgContainer").eq(0).transition({right:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(1).transition({left:"50%"},a[j].duration,a[j].easing)):
(jQuery(d).find(".imgContainer").eq(0).animate({right:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").eq(1).animate({left:"50%"},a[j].duration,a[j].easing)));break;case "labelSplit4":"onBottom"!=c.thumbnailLabel.position&&("transitXXX"==a[j].method?(jQuery(d).find(".labelImage").eq(0).transition({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).transition({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(2).transition({left:"50%",
top:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).transition({right:"50%",top:"50%"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").eq(0).animate({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).animate({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(2).animate({left:"50%",top:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).animate({right:"50%",top:"50%"},a[j].duration,
a[j].easing)));break;case "labelSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").eq(0).transition({right:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).transition({left:"50%"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").eq(0).animate({right:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).animate({left:"50%"},a[j].duration,a[j].easing)));break;case "labelAppearSplit4":"onBottom"!=c.thumbnailLabel.position&&
("transit"==a[j].method?(jQuery(d).find(".labelImage").eq(0).transition({right:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(2).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).transition({right:"0%",top:"0%"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").eq(0).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing),
jQuery(d).find(".labelImage").eq(1).animate({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(2).animate({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing)));break;case "labelAppearSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").eq(0).transition({right:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).transition({left:"0%"},
a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").eq(0).animate({right:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).animate({left:"0%"},a[j].duration,a[j].easing)));break;case "scaleLabelOverImage":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").transition({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").transition({scale:"0.5"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").animate({opacity:"1",
scale:"1"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").animate({scale:"0.5"},a[j].duration,a[j].easing)));break;case "overScale":case "overScaleOutside":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").transition({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").transition({opacity:"0",scale:"0.5"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").animate({opacity:"1",scale:"1"},a[j].duration,a[j].easing),
jQuery(d).find(".imgContainer").animate({opacity:"0",scale:"0.5"},a[j].duration,a[j].easing)));break;case "imageInvisible":"transit"==a[j].method?jQuery(d).find(".imgContainer").transition({opacity:"0"},a[j].duration,a[j].easing):jQuery(d).find(".imgContainer").animate({opacity:"0"},a[j].duration,a[j].easing);break;case "rotateCornerBL":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(d).find(".labelImage").transition({rotate:"0deg"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").transition({rotate:"90deg"},
a[j].duration,a[j].easing));break;case "rotateCornerBR":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(d).find(".labelImage").transition({rotate:"0deg"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").transition({rotate:"-90deg"},a[j].duration,a[j].easing));break;case "imageRotateCornerBL":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&jQuery(d).find(".imgContainer").transition({rotate:"90deg"},a[j].duration,a[j].easing);break;case "imageRotateCornerBR":"transit"==
a[j].method&&"onBottom"!=c.thumbnailLabel.position&&jQuery(d).find(".imgContainer").transition({rotate:"-90deg"},a[j].duration,a[j].easing);break;case "slideUp":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({top:0},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({top:b},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({top:0},
a[j].duration,a[j].easing)));break;case "slideDown":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({top:0},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({top:b},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({top:0},a[j].duration,a[j].easing)));break;case "slideRight":"onBottom"!=c.thumbnailLabel.position&&
(b=f.thumbRealWidth+"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({left:b},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({left:0},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({left:b},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({left:0},a[j].duration,a[j].easing)));break;case "slideLeft":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealWidth+"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({left:b},
a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({left:0},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({left:b},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({left:0},a[j].duration,a[j].easing)));break;case "imageSlideUp":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealHeight+"px","transit"==a[j].method?jQuery(d).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing):jQuery(d).find(".imgContainer").animate({top:b},
a[j].duration,a[j].easing));break;case "imageSlideDown":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealHeight+"px","transit"==a[j].method?jQuery(d).find(".imgContainer").transition({top:b},a[j].duration,a[j].easing):jQuery(d).find(".imgContainer").animate({top:b},a[j].duration,a[j].easing));break;case "imageSlideLeft":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealWidth+"px","transit"==a[j].method?jQuery(d).find(".imgContainer").transition({left:b},a[j].duration,a[j].easing):jQuery(d).find(".imgContainer").animate({left:b},
a[j].duration,a[j].easing));break;case "imageSlideRight":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealWidth+"px","transit"==a[j].method?jQuery(d).find(".imgContainer").transition({left:b},a[j].duration,a[j].easing):jQuery(d).find(".imgContainer").animate({left:b},a[j].duration,a[j].easing));break;case "labelAppear":if("onBottom"!=c.thumbnailLabel.position){var l="rgba("+t.oldLabelRed+","+t.oldLabelGreen+","+t.oldLabelBlue+",1)";jQuery(d).find(".labelImage").animate({backgroundColor:l},a[j].duration,
a[j].easing);jQuery(d).find(".labelImageTitle").animate({opacity:"1"},a[j].duration,a[j].easing);jQuery(d).find(".labelFolderTitle").animate({opacity:"1"},a[j].duration,a[j].easing);jQuery(d).find(".labelDescription").animate({opacity:"1"},a[j].duration,a[j].easing)}break;case "labelAppear75":"onBottom"!=c.thumbnailLabel.position&&(l="rgba("+t.oldLabelRed+","+t.oldLabelGreen+","+t.oldLabelBlue+",0.75)",jQuery(d).find(".labelImage").animate({backgroundColor:l},a[j].duration,a[j].easing),jQuery(d).find(".labelImageTitle").animate({opacity:"1"},
a[j].duration,a[j].easing),jQuery(d).find(".labelFolderTitle").animate({opacity:"1"},a[j].duration,a[j].easing),jQuery(d).find(".labelDescription").animate({opacity:"1"},a[j].duration,a[j].easing));break;case "labelSlideDown":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(d).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):jQuery(d).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelSlideUpTop":"onBottom"!=c.thumbnailLabel.position&&
("transit"==a[j].method?jQuery(d).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):jQuery(d).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelSlideUp":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(d).find(".labelImage").transition({bottom:0},a[j].duration,a[j].easing):jQuery(d).find(".labelImage").animate({bottom:0},a[j].duration,a[j].easing));break;case "descriptionSlideUp":"overImageOnBottom"==c.thumbnailLabel.position&&("transit"==
a[j].method?jQuery(d).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):jQuery(d).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelOpacity50":"transit"==a[j].method?jQuery(d).find(".labelImage").transition({opacity:.5},a[j].duration,a[j].easing):jQuery(d).find(".labelImage").animate({opacity:.5},a[j].duration,a[j].easing);break;case "imageOpacity50":"transit"==a[j].method?jQuery(d).find(".imgContainer").transition({opacity:.5},a[j].duration,a[j].easing):
jQuery(d).find(".imgContainer").animate({opacity:.5},a[j].duration,a[j].easing);break;case "borderLighter":"transit"==a[j].method?jQuery(d).transition({borderColor:ba(t.oldBorderColor,.5,!1)},a[j].duration,a[j].easing):jQuery(d).animate({borderTopColor:ba(t.oldBorderColor,.5,!1),borderRightColor:ba(t.oldBorderColor,.5,!1),borderBottomColor:ba(t.oldBorderColor,.5,!1),borderLeftColor:ba(t.oldBorderColor,.5,!1)},a[j].duration,a[j].easing);break;case "borderDarker":"transit"==a[j].method?jQuery(d).transition({borderColor:ba(t.oldBorderColor,
.5,!0)},a[j].duration,a[j].easing):jQuery(d).animate({borderTopColor:ba(t.oldBorderColor,.5,!0),borderRightColor:ba(t.oldBorderColor,.5,!0),borderBottomColor:ba(t.oldBorderColor,.5,!0),borderLeftColor:ba(t.oldBorderColor,.5,!0)},a[j].duration,a[j].easing);break;case "imageScale150":"transit"==a[j].method?jQuery(d).find("img").transition({scale:1.5},a[j].duration,a[j].easing):jQuery(d).find("img").animate({scale:1.5},a[j].duration,a[j].easing);break;case "imageScale150Outside":jQuery(d).css("z-index",
"auto");"transit"==a[j].method?jQuery(d).find("img").transition({scale:1.5},a[j].duration,a[j].easing):jQuery(d).find("img").animate({scale:1.5},a[j].duration,a[j].easing);break;case "scale120":jQuery(d).css("z-index","auto");"transit"==a[j].method?jQuery(d).transition({scale:1.2},a[j].duration,a[j].easing):jQuery(d).animate({scale:1.2},a[j].duration,a[j].easing);break;case "imageFlipHorizontal":"transit"==a[j].method&&(Q("",d),b=Math.round(1.2*f.thumbRealHeight)+"px",jQuery(d).find(".imgContainer").transition({perspective:b,
rotateX:"180deg"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({perspective:b,rotateX:"360deg"},a[j].duration,a[j].easing));break;case "imageFlipVertical":"transit"==a[j].method&&(Q("",d),b=Math.round(1.2*f.thumbRealWidth)+"px",jQuery(d).find(".imgContainer").transition({perspective:b,rotateY:"180deg"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({perspective:b,rotateY:"360deg"},a[j].duration,a[j].easing));break;case "flipHorizontal":"transit"==a[j].method&&
(Q("",d),b=Math.round(1.2*f.thumbRealHeight)+"px",jQuery(d).transition({perspective:b,rotateX:"180deg"},a[j].duration,a[j].easing));break;case "flipVertical":"transit"==a[j].method&&(Q("",d),b=Math.round(1.2*f.thumbRealWidth)+"px",jQuery(d).transition({perspective:b,rotateY:"180deg"},a[j].duration,a[j].easing));break;case "TEST":jQuery(d).find(".subcontainer").transition({scale:.8},150).transition({perspective:"50px",rotateX:"180deg"},300,"ease").transition({scale:1},150)}}catch(e){S("error on hover "+
e.message)}}}function Eb(d){if(!X){jQuery(d).find("*").stop(!0,!1);var b=jQuery(d).data("index");if(void 0!=b){var f=g[b];f.hovered=!1;"function"==typeof c.fnThumbnailHoverOut&&c.fnThumbnailHoverOut(jQuery(d),f);try{for(j=0;j<a.length;j++)switch(a[j].name){case "imageSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".imgContainer").eq(0).transition({right:"0%",top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").eq(1).transition({left:"0%",
top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").eq(2).transition({left:"0%",bottom:"0%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").eq(3).transition({right:"0%",bottom:"0%"},a[j].durationBack,a[j].easingBack)):(jQuery(d).find(".imgContainer").eq(0).animate({right:"0%",top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").eq(1).animate({left:"0%",top:"0%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").eq(2).animate({left:"0%",
bottom:"0%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").eq(3).animate({right:"0%",bottom:"0%"},a[j].durationBack,a[j].easingBack)));case "imageSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".imgContainer").eq(0).transition({right:"0%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").eq(1).transition({left:"0%"},a[j].durationBack,a[j].easingBack)):(jQuery(d).find(".imgContainer").eq(0).animate({right:"0%"},a[j].durationBack,
a[j].easingBack),jQuery(d).find(".imgContainer").eq(1).animate({left:"0%"},a[j].durationBack,a[j].easingBack)));break;case "labelSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").eq(0).transition({right:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(2).transition({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).transition({right:"0%",
top:"0%"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").eq(0).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).animate({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(2).animate({left:"0%",top:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).animate({right:"0%",top:"0%"},a[j].duration,a[j].easing)));break;case "labelSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?
(jQuery(d).find(".labelImage").eq(0).transition({right:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).transition({left:"0%"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").eq(0).animate({right:"0%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).animate({left:"0%"},a[j].duration,a[j].easing)));break;case "labelAppearSplit4":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").eq(0).transition({right:"50%",top:"-50%"},
a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).transition({left:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(2).transition({left:"50%",top:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).transition({right:"50%",top:"50%"},a[j].duration,a[j].easing)):(jQuery(d).find(".labelImage").eq(0).animate({right:"50%",top:"-50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(1).animate({left:"50%",top:"-50%"},a[j].duration,a[j].easing),
jQuery(d).find(".labelImage").eq(2).animate({left:"50%",top:"50%"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").eq(3).animate({right:"50%",top:"50%"},a[j].duration,a[j].easing)));case "labelAppearSplitVert":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").eq(0).transition({right:"50%"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".labelImage").eq(1).transition({left:"50%"},a[j].durationBack,a[j].easingBack)):(jQuery(d).find(".labelImage").eq(0).animate({right:"50%"},
a[j].durationBack,a[j].easingBack),jQuery(d).find(".labelImage").eq(1).animate({left:"50%"},a[j].durationBack,a[j].easingBack)));break;case "scaleLabelOverImage":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").transition({opacity:"0",scale:"0.5"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").transition({scale:"1"},a[j].durationBack,a[j].easingBack)):(jQuery(d).find(".labelImage").animate({opacity:"0",scale:"0.5"},a[j].durationBack,
a[j].easingBack),jQuery(d).find(".imgContainer").animate({scale:"1"},a[j].durationBack,a[j].easingBack)));break;case "overScale":case "overScaleOutside":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".labelImage").transition({opacity:"0",scale:"1.5"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").transition({opacity:"1",scale:"1"},a[j].durationBack,a[j].easingBack)):(jQuery(d).find(".labelImage").animate({opacity:"0",scale:"1.5"},a[j].durationBack,
a[j].easingBack),jQuery(d).find(".imgContainer").animate({opacity:"1",scale:"1"},a[j].durationBack,a[j].easingBack)));break;case "imageInvisible":"transit"==a[j].method?jQuery(d).find(".imgContainer").transition({opacity:"1"},a[j].durationBack,a[j].easingBack):jQuery(d).find(".imgContainer").animate({opacity:"1"},a[j].durationBack,a[j].easingBack);break;case "rotateCornerBL":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(d).find(".labelImage").transition({rotate:"-90deg"},
a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").transition({rotate:"0deg"},a[j].duration,a[j].easing));break;case "rotateCornerBR":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&(jQuery(d).find(".labelImage").transition({rotate:"90deg"},a[j].duration,a[j].easing),jQuery(d).find(".imgContainer").transition({rotate:"0deg"},a[j].duration,a[j].easing));break;case "imageRotateCornerBL":case "imageRotateCornerBR":"transit"==a[j].method&&"onBottom"!=c.thumbnailLabel.position&&
jQuery(d).find(".imgContainer").transition({rotate:"0"},a[j].durationBack,a[j].easingBack);break;case "slideUp":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({top:0},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({top:b},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({top:0},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({top:b},a[j].duration,a[j].easing)));
break;case "slideDown":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealHeight+"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({top:0},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({top:b},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({top:0},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({top:b},a[j].duration,a[j].easing)));break;case "slideRight":"onBottom"!=c.thumbnailLabel.position&&(b="-"+f.thumbRealWidth+
"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({left:0},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({left:b},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({left:0},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({left:b},a[j].duration,a[j].easing)));break;case "slideLeft":"onBottom"!=c.thumbnailLabel.position&&(b=f.thumbRealWidth+"px","transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({left:0},
a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({left:b},a[j].duration,a[j].easing)):(jQuery(d).find(".imgContainer").animate({left:0},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").animate({left:b},a[j].duration,a[j].easing)));break;case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(d).find(".imgContainer").transition({top:"0"},a[j].durationBack,a[j].easingBack),
jQuery(d).find(".imgContainer").transition({left:"0"},a[j].durationBack,a[j].easingBack)):(jQuery(d).find(".imgContainer").animate({top:"0"},a[j].durationBack,a[j].easingBack),jQuery(d).find(".imgContainer").animate({left:"0"},a[j].durationBack,a[j].easingBack)));break;case "labelAppear":case "labelAppear75":if("onBottom"!=c.thumbnailLabel.position){var l="rgb("+t.oldLabelRed+","+t.oldLabelGreen+","+t.oldLabelBlue+",0)";jQuery(d).find(".labelImage").animate({backgroundColor:l},a[j].duration,a[j].easing);
jQuery(d).find(".labelImageTitle").animate({opacity:"0"},a[j].duration,a[j].easing);jQuery(d).find(".labelFolderTitle").animate({opacity:"0"},a[j].duration,a[j].easing);jQuery(d).find(".labelDescription").animate({opacity:"0"},a[j].duration,a[j].easing)}break;case "labelSlideDown":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(d).find(".labelImage").transition({top:"-99%"},a[j].durationBack,a[j].easingBack):jQuery(d).find(".labelImage").animate({top:"-99%"},a[j].durationBack,
a[j].easingBack));break;case "labelSlideUpTop":var e=f.thumbRealHeight+"px";"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(d).find(".labelImage").transition({top:e},a[j].duration,a[j].easing):jQuery(d).find(".labelImage").animate({top:e},a[j].duration,a[j].easing));break;case "labelSlideUp":"onBottom"!=c.thumbnailLabel.position&&("transit"==a[j].method?jQuery(d).find(".labelImage").transition({bottom:"-99%"},a[j].durationBack,a[j].easingBack):jQuery(d).find(".labelImage").animate({bottom:"-99%"},
a[j].durationBack,a[j].easingBack));break;case "descriptionSlideUp":"overImageOnBottom"==c.thumbnailLabel.position&&(e=f.thumbRealHeight-(jQuery(d).find(".labelImage").outerHeight(!0)-jQuery(d).find(".labelImage").height())/2-kb+"px","transit"==a[j].method?jQuery(d).find(".labelImage").transition({top:e},a[j].duration,a[j].easing):jQuery(d).find(".labelImage").animate({top:e},a[j].duration,a[j].easing));break;case "labelOpacity50":"transit"==a[j].method?jQuery(d).find(".labelImage").transition({opacity:t.oldLabelOpacity},
a[j].durationBack,a[j].easingBack):jQuery(d).find(".labelImage").animate({opacity:t.oldLabelOpacity},a[j].durationBack,a[j].easingBack);break;case "imageOpacity50":"transit"==a[j].method?jQuery(d).find(".imgContainer").transition({opacity:1},a[j].duration,a[j].easing):jQuery(d).find(".imgContainer").animate({opacity:1},a[j].duration,a[j].easing);break;case "borderLighter":case "borderDarker":"transit"==a[j].method?jQuery(d).transition({borderColor:t.oldBorderColor},a[j].durationBack,a[j].easingBack):
jQuery(d).animate({borderTopColor:t.oldBorderColor,borderRightColor:t.oldBorderColor,borderBottomColor:t.oldBorderColor,borderLeftColor:t.oldBorderColor},a[j].duration,a[j].easing);break;case "imageScale150":case "imageScale150Outside":"transit"==a[j].method?jQuery(d).find("img").transition({scale:1},a[j].durationBack,a[j].easingBack):jQuery(d).find("img").animate({scale:1},a[j].durationBack,a[j].easingBack);break;case "scale120":"transit"==a[j].method?jQuery(d).transition({scale:1},a[j].durationBack,
a[j].easingBack):jQuery(d).animate({scale:1},a[j].durationBack,a[j].easingBack);break;case "imageFlipHorizontal":"transit"==a[j].method&&(b=Math.round(1.2*f.thumbRealHeight)+"px",jQuery(d).find(".imgContainer").transition({perspective:b,rotateX:"0deg"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({perspective:b,rotateX:"180deg"},a[j].duration,a[j].easing));break;case "imageFlipVertical":"transit"==a[j].method&&(b=Math.round(1.2*f.thumbRealWidth)+"px",jQuery(d).find(".imgContainer").transition({perspective:b,
rotateY:"0deg"},a[j].duration,a[j].easing),jQuery(d).find(".labelImage").transition({perspective:b,rotateY:"180deg"},a[j].duration,a[j].easing));break;case "flipHorizontal":"transit"==a[j].method&&(b=Math.round(1.2*Aa)+"px",jQuery(d).transition({perspective:b,rotateX:"0deg"},a[j].durationBack,a[j].easingBack));break;case "flipVertical":"transit"==a[j].method&&(b=Math.round(1.2*f.thumbRealWidth)+"px",jQuery(d).transition({perspective:b,rotateY:"0deg"},a[j].durationBack,a[j].easingBack));break;case "TEST":jQuery(d).find(".subcontainer").transition({scale:.85},
150).transition({perspective:"50px",rotateX:"0deg"},300,"ease").transition({scale:1},150)}}catch(k){S("error on hoverOut "+k.message)}}}}function ya(a){if("fancybox"==c.viewer){var b=[],f=0;b[f]={};b[f].href=g[a].responsiveURL();b[f].title=g[a].title;for(var l=g.length,e=a+1;e<l;e++)"image"==g[e].kind&&g[e].albumID==g[a].albumID&&""==g[e].destinationURL&&(f++,b[f]={},b[f].href=g[e].responsiveURL(),b[f].title=g[e].title);for(e=0;e<a;e++)"image"==g[e].kind&&g[e].albumID==g[a].albumID&&""==g[e].destinationURL&&
(f++,b[f]={},b[f].href=g[e].responsiveURL(),b[f].title=g[e].title);jQuery.fancybox(b,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}else X?Ya(a,""):Vb(a)}function Vb(a){c.viewerScrollBarHidden&&jQuery("body").css("overflow","hidden");R=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body");R.addClass("nanogallery_theme_"+c.theme);Wb(R);ca=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(R);
var b;b='<img class="image" src="//:0" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL"><img class="image" src="//:0" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';b+='<img class="image" src="//:0" alt="" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';
F=jQuery('<div class="content">'+b+'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(ca);Da=ca.find(".image").eq(0);A=ca.find(".image").eq(1);Ea=ca.find(".image").eq(2);Hb=jQuery('<div class="closeButtonFloating"></div>').appendTo(ca);b="";Ib&&(b='<div class="setFullscreenButton fullscreenButton"></div>');B=jQuery('<div class="toolbarContainer" style="visibility:hidden;"><div class="toolbar"><div class="previousButton"></div><div class="pageCounter"></div><div class="nextButton"></div><div class="playButton playPauseButton"></div>'+
b+'<div class="closeButton"></div><div class="label"><div class="title" itemprop="name"></div><div class="description" itemprop="description"></div></div></div>').appendTo(ca);c.viewerDisplayLogo&&jQuery('<div class="nanoLogo"></div>').appendTo(ca);Q("",ca);La(A);if("undefined"!==typeof Hammer){var f=0;Hammer(document.getElementById("nanoGalleryViewer"),{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,
transform:!1}).on("drag release",function(a){if(!Fa)switch(a.type){case "drag":a.stopPropagation();f=a.gesture.deltaX;25>Math.abs(f)?F.find(".imgCurrent").css({left:0}):F.find(".imgCurrent").css({left:f});break;case "release":a.gesture.stopPropagation(),a.stopPropagation(),(25>Math.abs(f)||100>(new Date).getTime()-oa)&&F.find(".imgCurrent").css({left:0}),-25>Math.round(f)&&ta(),25<Math.round(f)&&ua(),f=0}})}oa=(new Date).getTime();Hb.on("click",function(a){a.stopPropagation();400>(new Date).getTime()-
oa||Ga(!0)});B.find(".closeButton").on("click",function(a){a.stopPropagation();400>(new Date).getTime()-oa||Ga(!0)});F.find("img").on("click",function(a){});B.find(".playPauseButton").on("click",function(a){a.stopPropagation();bb()});B.find(".fullscreenButton").on("click",function(a){a.stopPropagation();Jb()});B.find(".nextButton").on("click",function(a){a.stopPropagation();ta()});B.find(".previousButton").on("click",function(a){a.stopPropagation();ua()});F.find(".contentAreaNext").on("click",function(a){a.stopPropagation();
ta()});F.find(".contentAreaPrevious").on("click",function(a){a.stopPropagation();ua()});F.on("click",function(a){400>(new Date).getTime()-oa||(a.stopPropagation(),Ga(!0))});Ya(a,"")}function Xb(a){function b(a){var d={};a.targetTouches?(d.x=a.targetTouches[0].clientX,d.y=a.targetTouches[0].clientY):(d.x=a.clientX,d.y=a.clientY);return d}function c(){if(g){var a=k.x-m.x;V(F.find(".imgCurrent")[0],n-a);g=!1}}function l(a){window.navigator.msPointerEnabled?e.removeEventListener("MSPointerDown",a.handleGestureStart,
!0):(e.removeEventListener("touchstart",a.handleGestureStart,!0),e.removeEventListener("mousedown",a.handleGestureStart,!0))}var e=a,g=!1,k=null,m=null,n=0;this.handleGestureStart=function(a){X&&(a.preventDefault(),a.touches&&1<a.touches.length||(window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",
this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),k=b(a)))}.bind(this);this.handleGestureMove=function(a){a.preventDefault();m=b(a);g||(g=!0,window.requestAnimFrame(c))}.bind(this);this.handleGestureEnd=function(a){a.preventDefault();a.touches&&0<a.touches.length||(g=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",
this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),null==m?(n=0,k=null):(a=k.x-m.x,n-=a,-50>a&&(l(this),ua()),50<a&&(l(this),
ta()),n=0,m=k=null,50>Math.abs(a)&&V(F.find(".imgCurrent")[0],n)))}.bind(this);window.navigator.msPointerEnabled?e.addEventListener("MSPointerDown",this.handleGestureStart,!0):(e.addEventListener("touchstart",this.handleGestureStart,!0),e.addEventListener("mousedown",this.handleGestureStart,!0))}function Jb(){Za?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&
document.mozCancelFullScreen(),Za=!1,B.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(R[0].requestFullscreen?R[0].requestFullscreen():R[0].webkitRequestFullscreen?R[0].webkitRequestFullscreen():R[0].msRequestFullscreen?R[0].msRequestFullscreen():R[0].mozRequestFullScreen&&R[0].mozRequestFullScreen(),Za=!0,B.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"))}function bb(){ra?(window.clearInterval(Ma),ra=
!1,B.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(ra=!0,B.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),$a(),Ma=window.setInterval(function(){$a()},eb))}function ta(){ra&&(window.clearInterval(Ma),Ma=window.setInterval(function(){$a()},eb));$a()}function $a(){if(!(Fa||300>(new Date).getTime()-oa)){var a=Kb(ab);Ya(a,"nextImage")}}function ua(){if(!(Fa||300>(new Date).getTime()-oa)){ra&&bb();var a=Lb(ab);Ya(a,"previousImage")}}function Ya(a,
b){oa=(new Date).getTime();Fa=!0;if(c.locationHash){var f="nanogallery/"+la+"/"+g[a].albumID+"/"+g[a].GetID();"#"+f!=location.hash?(wa="#"+f,top.location.hash=f):wa=top.location.hash}Yb(a);La(A);ab=a;f="-"+1*jQuery(window).width()+"px";f=!0;"fade"==c.imageTransition&&(f=!1);var l="";switch(b){case "nextImage":f?(f="-"+1*jQuery(window).width()+"px",l={left:f,opacity:0}):l={opacity:0};F.find("*").stop(!0,!0);Ea.css({opacity:0,left:"0",visibility:"visible"});jQuery.when(A.animate(l,500),Ea.animate({opacity:1},
300)).done(function(){qb(a,b)});break;case "previousImage":f?(f=1*jQuery(window).width()+"px",l={left:f,opacity:0}):l={opacity:0};F.find("*").stop(!0,!0);Da.css({opacity:0,left:"0",visibility:"visible"});jQuery.when(A.animate(l,500),Da.animate({opacity:1},300)).done(function(){qb(a,b)});break;default:F.find("*").stop(!0,!0),A.css({opacity:0,left:"0",visibility:"visible"}).attr("src",g[a].responsiveURL()),jQuery.when(A.animate({opacity:1},300)).done(function(){qb(a,b)})}X=!0}function qb(a,b){A.off("click");
A.removeClass("imgCurrent");var c=A;switch(b){case "nextImage":A=Ea;Ea=c;break;case "previousImage":A=Da,Da=c}A.addClass("imgCurrent");"undefined"==typeof Hammer&&new Xb(A[0]);Ea.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",g[Kb(a)].responsiveURL());Da.css({opacity:0,left:"0",visibility:"hidden"}).attr("src",g[Lb(a)].responsiveURL());A.on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/2?ua():ta()});La(A);Fa=!1}function Kb(a){for(var b=g.length,c=-1,l=a+1;l<b;l++)if(g[l].albumID==
g[a].albumID&&"image"==g[l].kind){c=l;break}if(-1==c)for(l=0;l<=a;l++)if(g[l].albumID==g[a].albumID&&"image"==g[l].kind){c=l;break}return c}function Lb(a){for(var b=-1,c=a-1;0<=c;c--)if(g[c].albumID==g[a].albumID&&"image"==g[c].kind){b=c;break}if(-1==b)for(c=g.length-1;c>=a;c--)if(g[c].albumID==g[a].albumID&&"image"==g[c].kind){b=c;break}return b}function Yb(a){void 0!==g[a].title?B.find(".title").html(g[a].title):B.find(".title").html("");void 0!==g[a].description?B.find(".description").html(g[a].description):
B.find(".description").html("");for(var b=0,c=g.length,l=0;l<c;l++)g[l].albumID==g[a].albumID&&"image"==g[l].kind&&b++;0<b&&B.find(".pageCounter").html(g[a].imageNumber+1+"/"+b)}function Ga(a){Fa&&F.find("*").stop(!0,!0);X&&(window.clearInterval(rb),ra&&(window.clearInterval(Ma),ra=!1),Za&&Jb(),X=!1,R.off().remove(),c.viewerScrollBarHidden&&jQuery("body").css("overflow","inherit"),-1!=Ta?u(Ta,!0):(c.locationHash&&a&&(a="nanogallery/"+la+"/"+g[ab].albumID,wa="#"+a,top.location.hash=a),va()))}function La(a){window.clearInterval(rb);
rb=window.setInterval(function(){La(A)},500);var b=jQuery(window).width(),f=jQuery(window).height();ca.css({visibility:"visible",position:"fixed"});40>=A.height()?B.css({visibility:"hidden"}):B.css({visibility:"visible"});var l=Math.abs(F.outerHeight(!0)-F.height()),e=Math.abs(F.outerWidth(!0)-F.width()),g=a.outerHeight(!1)-a.innerHeight(),k=Math.abs(a.outerWidth(!1)-a.innerWidth()),m=Math.abs(a.innerHeight()-a.height());a=Math.abs(a.innerHeight()-a.height());g+=m;k+=a;m=0;"innerImage"!=c.viewerToolbar.style&&
(m=B.find(".toolbar").outerHeight(!0));f=f-m-l;b-=e;switch(c.viewerToolbar.position){case "top":F.css({height:f,width:b,top:m});e=0;"innerImage"==c.viewerToolbar.style&&(e=Math.abs(A.outerHeight(!0)-A.height())/2+5);"stuckImage"==c.viewerToolbar.style&&(e=Math.abs(A.outerHeight(!0)-A.height())/2-g);B.css({top:e});break;default:F.css({height:f,width:b}),e=0,"innerImage"==c.viewerToolbar.style&&(e=Math.abs(A.outerHeight(!0)-A.height())/2+5),"stuckImage"==c.viewerToolbar.style&&(e=Math.abs(A.outerHeight(!0)-
A.height())/2-g),B.css({bottom:e})}"innerImage"==c.viewerToolbar.style&&B.find(".toolbar").css({"max-width":A.width()});"fullWidth"==c.viewerToolbar.style&&B.find(".toolbar").css({width:b});B.css({height:B.find(".toolbar").outerHeight(!0)});F.children("img").css({"max-width":b-g,"max-height":f-k})}function Zb(a){var b=null;switch(fa(c.colorScheme)){case "object":b=Mb;jQuery.extend(!0,b,c.colorScheme);g_colorSchemeLabel="nanogallery_colorscheme_custom_"+la;break;case "string":switch(c.colorScheme){case "none":return;
case "light":b=$b;g_colorSchemeLabel="nanogallery_colorscheme_light";break;case "lightBackground":b=ac;g_colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case "darkRed":b=bc;g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case "darkGreen":b=cc;g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case "darkBlue":b=dc;g_colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case "darkOrange":b=ec;g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;default:b=
Mb,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:S("Error in colorScheme parameter.");return}var f="."+g_colorSchemeLabel+" ",e=f+".nanoGalleryNavigationbar { background:"+b.navigationbar.background+"; }\n";void 0!==b.navigationbar.border&&(e+=f+".nanoGalleryNavigationbar { border:"+b.navigationbar.border+" !important; }\n");void 0!==b.navigationbar.borderTop&&(e+=f+".nanoGalleryNavigationbar { border-top:"+b.navigationbar.borderTop+" !important; }\n");void 0!==b.navigationbar.borderBottom&&
(e+=f+".nanoGalleryNavigationbar { border-bottom:"+b.navigationbar.borderBottom+" !important; }\n");void 0!==b.navigationbar.borderRight&&(e+=f+".nanoGalleryNavigationbar { border-right:"+b.navigationbar.borderRight+" !important; }\n");void 0!==b.navigationbar.borderLeft&&(e+=f+".nanoGalleryNavigationbar { border-left:"+b.navigationbar.borderLeft+" !important; }\n");e+=f+".nanoGalleryNavigationbar .oneFolder  { color:"+b.navigationbar.color+" !important; }\n";e+=f+".nanoGalleryNavigationbar .separator  { color:"+
b.navigationbar.color+" !important; }\n";e+=f+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+b.navigationbar.color+" !important; }\n";e+=f+".nanoGalleryNavigationbar .oneFolder:hover { color:"+b.navigationbar.colorHover+" !important; }\n";e+=f+".nanoGalleryNavigationbar .separator:hover { color:"+b.navigationbar.colorHover+" !important; }\n";e+=f+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+b.navigationbar.colorHover+" !important; }\n";e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer { background:"+
b.thumbnail.background+" !important; border:"+b.thumbnail.border+" !important; }\n";e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .imgContainer { background:"+b.thumbnail.background+" !important; }\n";e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { background:"+b.thumbnail.labelBackground+"; }\n";e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";
e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+b.thumbnail.titleShadow+" !important; }\n";e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+b.thumbnail.titleColor+" !important; Text-Shadow:"+
b.thumbnail.titleShadow+" !important; }\n";e+=f+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelDescription { color:"+b.thumbnail.descriptionColor+" !important; Text-Shadow:"+b.thumbnail.descriptionShadow+" !important; }\n";jQuery("head").append("<style>"+e+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}function Wb(a){var b=null;switch(fa(c.colorSchemeViewer)){case "object":b=Nb;jQuery.extend(!0,b,c.colorSchemeViewer);g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;
case "string":switch(c.colorSchemeViewer){case "none":return;case "light":b=fc;g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case "darkRed":b=gc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case "darkGreen":b=hc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case "darkBlue":b=ic;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case "darkOrange":b=jc;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;default:b=
Nb,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:S("Error in colorSchemeViewer parameter.");return}var f="."+g_colorSchemeLabel+" ",e=f+".nanoGalleryViewer { background:"+b.background+" !important; }\n",e=e+(f+".nanoGalleryViewer .content img { border:"+b.imageBorder+" !important; box-shadow:"+b.imageBoxShadow+" !important; }\n"),e=e+(f+".nanoGalleryViewer .toolbar { background:"+b.barBackground+" !important; border:"+b.barBorder+" !important; color:"+b.barColor+" !important; }\n"),
e=e+(f+".nanoGalleryViewer .toolbar .previousButton:after { color:"+b.barColor+" !important; }\n"),e=e+(f+".nanoGalleryViewer .toolbar .nextButton:after { color:"+b.barColor+" !important; }\n"),e=e+(f+".nanoGalleryViewer .toolbar .closeButton:after { color:"+b.barColor+" !important; }\n"),e=e+(f+".nanoGalleryViewer .toolbar .label .title { color:"+b.barColor+" !important; }\n"),e=e+(f+".nanoGalleryViewer .toolbar .label .description { color:"+b.barDescriptionColor+" !important; }\n");jQuery("head").append("<style>"+
e+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}function S(a){sb.css({visibility:"visible",height:"60px"});sb.append("<p>nanoGALLERY: "+a+" ["+la+"]</p>");T(a)}function T(a){window.console&&console.log("nanoGALLERY: "+a+" ["+la+"]")}function Ob(){var a=jQuery(window);return{l:a.scrollLeft(),t:a.scrollTop(),w:a.width(),h:a.height()}}function Bb(a,b){var c=Ob(),e=jQuery(a).offset(),g=jQuery(a).outerHeight(!0),k=jQuery(a).outerWidth(!0);return e.top>=c.t-b&&e.top+g<=c.t+c.h+b&&e.left>=c.l-b&&e.left+
k<=c.l+c.w+b?!0:!1}function nb(a,b){var c=Ob(),e=jQuery(a).offset(),g=jQuery(a).outerHeight(!0);jQuery(a).outerWidth(!0);return 0==c.t&&e.top<=c.t+c.h?!0:e.top>=c.t&&e.top+g<=c.t+c.h-b?!0:!1}function Q(a,b){var c=0;""==a&&(a="*");jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c});c++;jQuery(b).css("z-index",c)}function Ca(a){for(var b,c,e=a.length;e;b=Math.floor(Math.random()*e),c=a[--e],a[e]=a[b],a[b]=c);return a}var c=null,sa=null,la=null,H=null,sb=null,P=null,Gb=
null,N=null,na=null,yb=null,ob=null,aa=null,zb=!1,R=null,ca=null,Da=null,Ea=null,A=null,X=!1,Hb=null,F=null,B=null,g=[],jb=0,Ua=0,za=0,qa=0,Va=0,Ia=0,O=0,Aa=0,kb=0,Qa=null,Ra=null,Sa=null,ra=!1,Ma=0,eb=3E3,fb=30,gb=100,Ib=!1,Za=!1,ga=!1,ha="",G={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},oa=0,U=1,M=0,I=0,a=[],ib=-1,wa="",Fa=!1,rb=-1,ab=-1,Ta=-1,t={},W=1,
Wa=-1,wb=!1,L={url:function(){return"https:"==location.protocol?"https://picasaweb.google.com/data/feed/api/":"http://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 ",thumbSizeHack:!0},C={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbAvailableSizes:[75,100,150,240,500,640],
thumbAvailableSizesStr:"sq t q s m z".split(" "),photoSize:"sq",photoAvailableSizes:[75,100,150,240,500,640,1024,1024,1600,2048],photoAvailableSizesStr:"sq t q s m z b l h k".split(" "),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},K={url:function(){return"https:"==location.protocol?"https://api.smugmug.com/services/api/json/1.3.0/":"http://api.smugmug.com/services/api/json/1.3.0/"},APIKey:"WJlHxuysNWKawKlzgrgDxTSirUOAYpbn",photoAvailableSizes:[100,150,400,600,800,1024,1280,1600],photoAvailableSizesStr:"TinyURL ThumbURL SmallURL MediumURL LargeURL XLargeURL X2LargeURL X3LargeURL".split(" "),
thumbSize:0,photoSize:0},Mb={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},bc={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",
labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},cc={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},dc={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",
border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},ec={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:""}},$b={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",
borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none"}},ac={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #fff",labelBackground:"rgba(170, 170, 170, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:""}},Nb=
{background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},gc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},hc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",
barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},ic={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},jc={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},fc={background:"rgba(187, 187, 187, 0.75)",
imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Pb=function(){function a(c,d){var e=0,e=void 0===d||null===d?b++:d;this.GetID=function(){return e};this.title=c;this.thumbsrc="";this.thumbRealHeight=this.thumbRealWidth=this.thumbHeight=this.thumbWidth=0;this.src="";this.height=this.width=0;this.author=this.kind=this.destinationURL=this.description="";this.hovered=!1;this.$elt=null;this.contentIsLoaded=
!1;this.paginationLastWidth=this.paginationLastPage=this.albumID=this.imageNumber=this.contentLength=0;this.customVars={}}var b=1;a.get_nextId=function(){return b};a.prototype={responsiveURL:function(){var a="";switch(c.kind){case "":a=this.src;break;case "flickr":a=this.src;break;case "smugmug":a=this.src;break;default:a=this.src}return a}};return a}();this.Initiate=function(a,b){c=b;sa=a;la=jQuery(a).attr("id");jQuery.support.transition&&(ga=!0);jQuery(a).addClass("nanogallery_theme_"+c.theme);
Zb(a);if(c.thumbnailLabel.hideIcons){var e=".nanogallery_thumbnails_icons_off ",e=e+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n"+(e+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n");jQuery("head").append("<style>"+e+"</style>");jQuery(a).addClass("nanogallery_thumbnails_icons_off")}c.galleryToolbarHideIcons&&(e=".nanogallery_breadcrumb_icons_off ",e=e+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n"+
(e+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n"),jQuery("head").append("<style>"+e+"</style>"),jQuery(a).addClass("nanogallery_breadcrumb_icons_off"));"right"==c.thumbnailLabel.align&&(e=".nanogallery_thumbnails_label_align_right .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n",jQuery("head").append("<style>"+e+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_right"));"center"==c.thumbnailLabel.align&&
(e=".nanogallery_thumbnails_label_align_center .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n",jQuery("head").append("<style>"+e+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_center"));"left"==c.thumbnailLabel.align&&(e=".nanogallery_thumbnails_label_align_left .nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n",jQuery("head").append("<style>"+e+"</style>"),jQuery(a).addClass("nanogallery_thumbnails_label_align_left"));
Ha();aa=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(a);aa.hide();ob=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(aa);na=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(ob);H=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a);P=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(H);sb=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(a);e=jQuery('<div class="nanogalleryHideElement '+jQuery(a).attr("class")+
'"></div>').appendTo("body");e=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(e);Gb=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(e);if(0<M||0<I)N=jQuery('<div class="nanoGalleryPagination"></div>').appendTo(H),ia();hb();document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?Ib=!0:T("Your browser does not support the fullscreen API. Fullscreen button will not be displayed.");w();"loadData"!=c.lazyBuild&&
q();var g=0;jQuery(window).resize(function(){g&&clearTimeout(g);X?La(A):g=setTimeout(function(){pb();Ab()},50)});var k=0;jQuery(window).on("scroll",function(){k&&clearTimeout(k);k=setTimeout(function(){"loadData"==c.lazyBuild&&nb(H,c.lazyBuildTreshold)&&(c.lazyBuild="none",q());-1!=Wa&&nb(H,c.lazyBuildTreshold)&&$(Wa,wb);Ab()},200)})};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,
1E3/60)}}();var fa=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},ba=function(a,b,c){a=a.replace(/^\s*|\s*$/,"");a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");b=Math.round(256*b)*(c?-1:1);var e=a.match(RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),g=e&&null!=e[4]?e[4]:null;a=e?[e[1],
e[2],e[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(a,b,c,d){return parseInt(b,16)+","+parseInt(c,16)+","+parseInt(d,16)}).split(/,/);return e?"rgb"+(null!==g?"a":"")+"("+Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[1],10)+b,c?0:255)+", "+Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255)+(null!==g?", "+g:"")+")":["#",tb(Math[c?"max":"min"](parseInt(a[0],10)+b,c?0:255).toString(16),2),tb(Math[c?"max":"min"](parseInt(a[1],
10)+b,c?0:255).toString(16),2),tb(Math[c?"max":"min"](parseInt(a[2],10)+b,c?0:255).toString(16),2)].join("")},tb=function(a,b){for(a+="";a.length<b;)a="0"+a;return a}}
(function(q,ia){function V(e,n,m){var k=ma[n.type]||{};if(null==e)return m||!n.def?null:n.def;e=k.floor?~~e:parseFloat(e);return isNaN(e)?n.def:k.mod?(e+k.mod)%k.mod:0>e?0:k.max<e?k.max:e}function Pa(e){var n=w(),m=n._rgba=[];e=e.toLowerCase();J(ja,function(k,x){var p,u=x.re.exec(e);p=u&&x.parse(u);u=x.space||"rgba";if(p)return p=n[u](p),n[D[u].cache]=p[D[u].cache],m=n._rgba=p._rgba,!1});return m.length?("0,0,0,0"===m.join()&&q.extend(m,pa.transparent),n):pa[e]}function Ha(e,n,m){m=(m+1)%1;return 1>
6*m?e+(n-e)*m*6:1>2*m?n:2>3*m?e+(n-e)*(2/3-m)*6:e}var hb=/^([\-+])=\s*(\d+\.?\d*)/,ja=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],
16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],w=q.Color=function(e,n,m,k){return new q.Color.fn.parse(e,n,m,k)},D={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},
hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},ma={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},Na=w.support={},Oa=q("<p>")[0],pa,J=q.each;Oa.style.cssText="background-color:rgba(1,1,1,.5)";Na.rgba=-1<Oa.style.backgroundColor.indexOf("rgba");J(D,function(e,n){n.cache="_"+e;n.props.alpha={idx:3,type:"percent",def:1}});w.fn=q.extend(w.prototype,{parse:function(e,n,m,k){if(e===ia)return this._rgba=[null,null,null,
null],this;if(e.jquery||e.nodeType)e=q(e).css(n),n=ia;var x=this,p=q.type(e),u=this._rgba=[];n!==ia&&(e=[e,n,m,k],p="array");if("string"===p)return this.parse(Pa(e)||pa._default);if("array"===p)return J(D.rgba.props,function(k,m){u[m.idx]=V(e[m.idx],m)}),this;if("object"===p)return e instanceof w?J(D,function(k,m){e[m.cache]&&(x[m.cache]=e[m.cache].slice())}):J(D,function(k,m){var n=m.cache;J(m.props,function(k,p){if(!x[n]&&m.to){if("alpha"===k||null==e[k])return;x[n]=m.to(x._rgba)}x[n][p.idx]=V(e[k],
p,!0)});x[n]&&0>q.inArray(null,x[n].slice(0,3))&&(x[n][3]=1,m.from&&(x._rgba=m.from(x[n])))}),this},is:function(e){var n=w(e),m=!0,k=this;J(D,function(e,p){var u,q=n[p.cache];q&&(u=k[p.cache]||p.to&&p.to(k._rgba)||[],J(p.props,function(e,k){if(null!=q[k.idx])return m=q[k.idx]===u[k.idx]}));return m});return m},_space:function(){var e=[],n=this;J(D,function(m,k){n[k.cache]&&e.push(m)});return e.pop()},transition:function(e,n){var m=w(e),k=m._space(),q=D[k],p=0===this.alpha()?w("transparent"):this,
u=p[q.cache]||q.to(p._rgba),$=u.slice(),m=m[q.cache];J(q.props,function(e,k){var p=k.idx,q=u[p],x=m[p],w=ma[k.type]||{};null!==x&&(null===q?$[p]=x:(w.mod&&(x-q>w.mod/2?q+=w.mod:q-x>w.mod/2&&(q-=w.mod)),$[p]=V((x-q)*n+q,k)))});return this[k]($)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),m=n.pop(),k=w(e)._rgba;return w(q.map(n,function(e,n){return(1-m)*k[n]+m*e}))},toRgbaString:function(){var e="rgba(",n=q.map(this._rgba,function(e,k){return null==e?2<k?1:0:e});1===
n[3]&&(n.pop(),e="rgb(");return e+n.join()+")"},toHslaString:function(){var e="hsla(",n=q.map(this.hsla(),function(e,k){null==e&&(e=2<k?1:0);k&&3>k&&(e=Math.round(100*e)+"%");return e});1===n[3]&&(n.pop(),e="hsl(");return e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),m=n.pop();e&&n.push(~~(255*m));return"#"+q.map(n,function(e){e=(e||0).toString(16);return 1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});w.fn.parse.prototype=
w.fn;D.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var n=e[0]/255,m=e[1]/255,k=e[2]/255;e=e[3];var q=Math.max(n,m,k),p=Math.min(n,m,k),u=q-p,w=q+p,E=.5*w,w=0===u?0:.5>=E?u/w:u/(2-w);return[Math.round(p===q?0:n===q?60*(m-k)/u+360:m===q?60*(k-n)/u+120:60*(n-m)/u+240)%360,w,E,null==e?1:e]};D.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var n=e[0]/360,m=e[1],k=e[2];e=e[3];m=.5>=k?k*(1+m):k+m-k*m;k=2*k-m;return[Math.round(255*
Ha(k,m,n+1/3)),Math.round(255*Ha(k,m,n)),Math.round(255*Ha(k,m,n-1/3)),e]};J(D,function(e,n){var m=n.props,k=n.cache,x=n.to,p=n.from;w.fn[e]=function(e){x&&!this[k]&&(this[k]=x(this._rgba));if(e===ia)return this[k].slice();var n,E=q.type(e),D="array"===E||"object"===E?e:arguments,Z=this[k].slice();J(m,function(e,k){var m=D["object"===E?e:k.idx];null==m&&(m=Z[k.idx]);Z[k.idx]=V(m,k)});return p?(n=w(p(Z)),n[k]=Z,n):w(Z)};J(m,function(k,m){w.fn[k]||(w.fn[k]=function(n){var p=q.type(n),x="alpha"===k?
this._hsla?"hsla":"rgba":e,w=this[x](),D=w[m.idx];if("undefined"===p)return D;"function"===p&&(n=n.call(this,D),p=q.type(n));if(null==n&&m.empty)return this;"string"===p&&(p=hb.exec(n))&&(n=D+parseFloat(p[2])*("+"===p[1]?1:-1));w[m.idx]=n;return this[x](w)})})});w.hook=function(e){e=e.split(" ");J(e,function(e,m){q.cssHooks[m]={set:function(e,n){var p,u="";if("transparent"!==n&&("string"!==q.type(n)||(p=Pa(n)))){n=w(p||n);if(!Na.rgba&&1!==n._rgba[3]){for(p="backgroundColor"===m?e.parentNode:e;(""===
u||"transparent"===u)&&p&&p.style;)try{u=q.css(p,"backgroundColor"),p=p.parentNode}catch(D){}n=n.blend(u&&"transparent"!==u?u:"_default")}n=n.toRgbaString()}try{e.style[m]=n}catch(E){}}};q.fx.step[m]=function(e){e.colorInit||(e.start=w(e.elem,m),e.end=w(e.end),e.colorInit=!0);q.cssHooks[m].set(e.elem,e.start.transition(e.end,e.pos))}})};w.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
q.cssHooks.borderColor={expand:function(e){var n={};J(["Top","Right","Bottom","Left"],function(m,k){n["border"+k+"Color"]=e});return n}};pa=q.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);